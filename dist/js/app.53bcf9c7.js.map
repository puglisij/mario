{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/a-folder-input.vue?a0b5","webpack:///src/components/a-folder-input.vue","webpack:///./src/components/a-folder-input.vue?2831","webpack:///./src/components/a-folder-input.vue","webpack:///./src/utils.js","webpack:///./src/host/hostScriptListener.js","webpack:///./src/eventBus.js","webpack:///./src/server/pipelineEngineState.js","webpack:///./src/components/a-extensions-input.vue?ec99","webpack:///src/components/a-extensions-input.vue","webpack:///./src/components/a-extensions-input.vue?202d","webpack:///./src/components/a-extensions-input.vue","webpack:///external \"zlib\"","webpack:///./src/global/index.js","webpack:///external \"http\"","webpack:///external \"buffer\"","webpack:///external \"crypto\"","webpack:///external \"child_process\"","webpack:///external \"net\"","webpack:///external \"assert\"","webpack:///./src/store/index.js","webpack:///./src/server/imageSourceType.js","webpack:///external \"tty\"","webpack:///./src/components/tabs.vue","webpack:///./src/app.vue?a542","webpack:///./src/themeManager.js","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?7bcf","webpack:///./src/components/tab.vue?53d6","webpack:///src/components/tab.vue","webpack:///./src/components/tab.vue?07ab","webpack:///./src/components/tab.vue","webpack:///./src/components/main-controls.vue?1ebe","webpack:///src/components/main-controls.vue","webpack:///./src/components/main-controls.vue?ab1d","webpack:///./src/components/main-controls.vue","webpack:///src/app.vue","webpack:///./src/app.vue?b1d1","webpack:///./src/app.vue","webpack:///./src/dialog/a-dialog-root.vue?7de2","webpack:///./src/dialog/events.js","webpack:///./src/dialog/a-dialog.vue?eeae","webpack:///src/dialog/a-dialog.vue","webpack:///./src/dialog/a-dialog.vue?3e02","webpack:///./src/dialog/a-dialog.vue","webpack:///./src/dialog/builtins/confirm.vue?f0d5","webpack:///src/dialog/builtins/confirm.vue","webpack:///./src/dialog/builtins/confirm.vue?7922","webpack:///./src/dialog/builtins/confirm.vue","webpack:///src/dialog/a-dialog-root.vue","webpack:///./src/dialog/a-dialog-root.vue?ac8f","webpack:///./src/dialog/a-dialog-root.vue","webpack:///./src/dialog/index.js","webpack:///./src/validation/index.js","webpack:///./src/main.js","webpack:///./src/components/a-folder-dialog-button.vue?196d","webpack:///src/components/a-folder-dialog-button.vue","webpack:///./src/components/a-folder-dialog-button.vue?bd8e","webpack:///./src/components/a-folder-dialog-button.vue","webpack:///./src/app.vue?49ce","webpack:///./src/host/index.js","webpack:///external \"url\"","webpack:///./src/enum.js","webpack:///./node_modules/express/lib sync","webpack:///./src/components/wait-dots.vue?6ba5","webpack:///src/components/wait-dots.vue","webpack:///./src/components/wait-dots.vue?2eb9","webpack:///./src/components/wait-dots.vue","webpack:///external \"util\"","webpack:///external \"os\"","webpack:///./src/components/a-folder-dialog-button.vue?5f44","webpack:///external \"stream\"","webpack:///./src/components/a-array-input.vue?5d77","webpack:///src/components/a-array-input.vue","webpack:///./src/components/a-array-input.vue?cec7","webpack:///./src/components/a-array-input.vue","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./src/server/image.js","webpack:///./src/unc-safe-path/index.js","webpack:///./src/server/imageFileMover.js","webpack:///./src/server/imageFileReader.js","webpack:///./src/server/imageFileProducer.js","webpack:///./src/server/pipelineEngine.js","webpack:///./src/server/actions.js","webpack:///./src/server/index.js","webpack:///external \"string_decoder\"","webpack:///./src/console/index.js","webpack:///./src/dialog/a-dialog-root.vue?1825","webpack:///./src/components/tabs.vue?92fd","webpack:///./src/components/a-checkbox.vue?c35a","webpack:///src/components/a-checkbox.vue","webpack:///./src/components/a-checkbox.vue?abfe","webpack:///./src/components/a-checkbox.vue","webpack:///external \"querystring\"","webpack:///external \"events\""],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","chunk-206da9c6","chunk-2d222399","chunk-7960c570","chunk-7cca642c","chunk-ea5e9e54","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","_t","attrs","folder","path","on","update:folder","$event","directives","rawName","expression","placeholder","title","domProps","change","onPathChange","input","composing","errors","_v","_s","_e","staticRenderFns","a_folder_inputvue_type_script_lang_js_","components","AFolderDialogButton","a_folder_dialog_button","model","prop","props","String","default","Array","required","methods","$emit","components_a_folder_inputvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","simpleDeepClone","obj","JSON","parse","stringify","guid","_p8","Math","random","toString","substr","first","isArray","keys","unique","arr","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__","Set","getOrDefine","defaultValue","isBoolean","val","isNumber","isObject","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__","isEmptyObject","isString","isEmptyString","isUndefined","isNull","HostScriptListener","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","_scriptListenerActive","_scriptListenerReaderActive","_scriptListenerJsLogsPath","upath","join","os","homedir","_scriptListenerVbLogsPath","log","fs","writeFile","_this","statSync","size","_unused","host","runJsx","values","includes","_unused2","runActionWithParameters","Boolean","active","vue__WEBPACK_IMPORTED_MODULE_0__","eventBus","Vue","_enum__WEBPACK_IMPORTED_MODULE_0__","PipelineEngineState","Enum","extensions","onExtensions","a_extensions_inputvue_type_script_lang_js_","AArrayInput","a_array_input","validateExtensions","map","ext","replace","filter","components_a_extensions_inputvue_type_script_lang_js_","require","upath__WEBPACK_IMPORTED_MODULE_0__","upath__WEBPACK_IMPORTED_MODULE_0___default","appInstallPath","normalize","CSInterface","getSystemPath","SystemPath","EXTENSION","appWorkingPath","process","appDefaultLogPath","appBuiltinActionsPath","projectName","general","Conf","configName","schema","checkIsScriptListenerActiveOnStart","pauseAfterEveryPipeline","pauseAfterEveryAction","pauseAfterEveryImage","pauseOnExceptions","doReadFileMetadata","logDirectory","pathToUserActions","fileWatchers","currentTab","isMainDrawerOpen","imageSource","directory","pipelines","ConfigurationProxy","configurationInstance","configurationObject","events","handler","set","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_2__","Reflect","emit","attributes","has","deleteProperty","Proxy","store","EventEmitter","ImageSourceType","tabs_render","tabs_staticRenderFns","appvue_type_template_id_653fbbc1_render","id","initial-tab","currentTabComponent","changed","onTabChanged","themeManager","csInterface","updateThemeWithAppSkinInfo","appSkinInfo","sentinelColor","panelBackgroundColor","color","red","themeIsLight","body","classList","remove","add","getElementById","style","background","toHex","computeValue","rgb","hex","Number","green","blue","onAppThemeColorChanged","getHostEnvironment","init","addEventListener","THEME_COLOR_CHANGED_EVENT","tabsvue_type_script_lang_js_","initialTab","activeTab","computed","tabsList","$slots","mounted","$on","onTabClick","tab","isActiveTab","class","child","components_tabsvue_type_script_lang_js_","tabs","tabvue_type_template_id_f5f7bfa6_render","isActive","click","preventDefault","stopPropagation","onClick","tabvue_type_template_id_f5f7bfa6_staticRenderFns","tabvue_type_script_lang_js_","$parent","components_tabvue_type_script_lang_js_","tab_component","main_controlsvue_type_template_id_0e7ee75a_render","ref","slim","scopedSlots","_u","fn","handleSubmit","keydown","indexOf","_k","keyCode","submit","onPipelineRun","onPipelineResume","onPipelinePause","isStopped","onPipelineStop","rules","$$selectedVal","options","selected","_value","$set","multiple","_l","option","text","isSourceADirectory","pathunc","allowed","pathexists","callback","$$v","pipelineEngineStateText","pipelineActionStateText","main_controlsvue_type_template_id_0e7ee75a_staticRenderFns","main_controlsvue_type_script_lang_js_","ValidationObserver","vee_validate_esm","ValidationProvider","AFolderInput","a_folder_input","AExtensionsInput","a_extensions_input","ACheckbox","a_checkbox","WaitDots","wait_dots","pipelineEngineState","server","pipelineEngine","state","utils","imageSourceTypeOptions","imageSourceType","ACTIVEDOCUMENT","OPENFILES","DIRECTORY","FILEWATCHER","BLANK","watch","v","deep","canPause","IDLE","PROCESSING","STOPPED","isPaused","PAUSED","isProcessing","toKey","created","pipelineName","run","actionName","_this2","$dialog","openConfirm","message","onYes","runAll","resume","pause","stop","components_main_controlsvue_type_script_lang_js_","main_controls_component","main_controls","appvue_type_script_lang_js_","MainControls","Tabs","Tab","AdobeMenus","TheConsole","TheJsxRunner","TheConfigurator","ThePipelines","src_themeManager","hideLoadingSpinner","tabTitle","spinnerEl","display","src_appvue_type_script_lang_js_","app_component","a_dialog_rootvue_type_template_id_7c02ede2_render","isOpen","width","height","_g","_b","onClose","close","listeners","a_dialog_rootvue_type_template_id_7c02ede2_staticRenderFns","a_dialogvue_type_template_id_3ff584dc_render","open","a_dialogvue_type_template_id_3ff584dc_staticRenderFns","a_dialogvue_type_script_lang_js_","dialog_a_dialogvue_type_script_lang_js_","a_dialog_component","a_dialog","confirmvue_type_template_id_ee4b402e_render","confirmvue_type_template_id_ee4b402e_staticRenderFns","confirmvue_type_script_lang_js_","builtins_confirmvue_type_script_lang_js_","confirm_component","builtins_confirm","defaultOptions","a_dialog_rootvue_type_script_lang_js_","ADialog","_ref","onCancel","args","objectWithoutProperties","_objectSpread","isYes","_ref2","_ref2$props","_ref2$listeners","warn","dialog_a_dialog_rootvue_type_script_lang_js_","a_dialog_root_component","a_dialog_root","Plugin","install","arguments","ADialogRoot","setInteractionMode","context","extend","validate","valid","computesRequired","_validate","asyncToGenerator","regeneratorRuntime","mark","_callee","exists","wrap","_context","prev","next","access","sent","abrupt","_x","toLowerCase","trim","isUnc","startsWith","params","config","productionTip","devtools","use","Dialog","destroy","Server","Host","Logger","vue","h","App","beforeDestroy","$mount","a_folder_dialog_buttonvue_type_script_lang_js_","components_a_folder_dialog_buttonvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","interface","_initialized","importScript","onSetTimeout","apiVersion","getCurrentApiVersion","concat","appGlobal","major","minor","micro","getOSInformation","eventName","scope","CSEvent","dispatchEvent","split","callbackId","delay","fileName","importPath","evalScript","_this3","lowerCaseResult","functionName","parameters","parametersJson","runJsxWithThrow","charId","stringId","enumArr","offset","create_","nextKey","validName","enumer","isInteger","test","lastIndex","toArray","isValid","toUpperCase","webpackEmptyContext","req","innerHTML","dots","handle","wait_dotsvue_type_script_lang_js_","intervalMs","dotCount","setInterval","repeat","clearInterval","components_wait_dotsvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_a_folder_dialog_button_vue_vue_type_style_index_0_id_900aa16c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_a_folder_dialog_button_vue_vue_type_style_index_0_id_900aa16c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","valueString","onValueChange","a_array_inputvue_type_script_lang_js_","removeEmpty","emitNewArray","newValue","newArray","components_a_array_inputvue_type_script_lang_js_","Image","classCallCheck","inputImagePath","inputDirectory","inputDataPath","metadata","isUncPath","dirname","_preserveUnc","firstPart","originalPath","newPath","charAt","unc_safe_path","ImageFileMover","image","toDirectory","errorMessage","isAbsolute","uncSafePath","_makeDirectory","_moveToDirectory","_writeError","mkdir","recursive","paths","_getImagePaths","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","basename","toPath","rename","_iterator","iterator","done","return","logPath","Date","toLocaleString","flag","ImageFileReader","readMetadata","_isPathDefinedAndAbsolute","_isFile","_isJsonFile","_readJson","_ensureAbsolutePath","_readMetadata","readFile","encoding","ep","exiftool","ExiftoolProcess","pid","fileMetadata","finally","parentDirectory","existsSync","extname","lstatSync","isFile","ImageSourcePath","validExtensions","ImageSource","sourceType","sourcePath","nextProducerId","ImageFileProducer","imageTap","possibleConstructorReturn","getPrototypeOf","_id","_imageTap","_fileWatcher","_isDepleted","_sourceFileWatchers","_sourceDirectory","_sourceOpenFiles","_sourceBlank","_sourceActiveDocument","removeAllListeners","files","watchPathRoot","watchExtensions","watchPaths","watcher","chokidar","ignored","depth","awaitWriteFinish","stabilityThreshold","pollInterval","_emitFiles","readdir","file","pop","_this4","filePaths","_this5","filePath","withFileWatcher","withDirectory","withOpenFiles","withBlank","withActiveDocument","PipelineEngine","_EventEmitter","_processingMutex","_state","_producerIdToPipelines","Map","_producerIdToProducer","_producerIdsWhichDepleted","_imageFileQ","_imageFileReader","_imageFileMover","inherits","createClass","_destroyAllProducers","_destroyProducers","producerIds","toConsumableArray","producerId","delete","producer","pipelineNames","_onProducerFile","_onProducerDepleted","produce","sourceExtensions","_run","_runWithFileWatchers","_runWithDirectory","_runWithOpenFiles","_runWithBlank","_runWithActiveDocument","watcherNames","reduce","pipeline","_getConfigurationByPipelineName","_","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","watcherName","fileWatcher","_getFileWatcherByName","_getConfigurationsByFileWatcherName","_addFileProducer","find","w","qFiles","_process","_runWaitOneFrame","_runProcessStart","_runProcessLoop","_runProcessEnd","_destroyDepletedProducers","_stopIfNoProducers","_runProcessLoop2","qFile","_qFile","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","action","read","_getConfigurationsByProducerId","disabled","_runPipelineStart","actions","_stopCheck","_pauseCheck","t0","finish","_runPipelineEnd","t1","move","t2","actionResult","forcePause","once","ActionFileImportStringBuilder","pathToActions","rootNamespace","_buildJsxImportString","namespacePrefix","namespaceDefine","readdirSync","nextScript","nextPath","nextActionName","isDirectory","Actions","_importStringBuilder","_importAll","_importAll2","_import","global","importDirectory","importString","build","port","express","ServerState","UNINITIALIZED","RUNNING","_httpServer","_pipelineEngine","_actions","res","header","send","_pipelineConfig","post","status","json","success","needUserInteraction","stack","listen","CONSOLE_METHODS","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","initialized","logFileEnabled","logFilePersistForDays","originalConsoleMethods","logWriteStream","logBuffer","maxBufferSize","_cleanupFiles","_createFileStream","forEach","method","self","originalMethod","_write","toLocaleTimeString","C_Projects_experiments_adobe_cep_com_mario_panel_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","htmlChunk","write","yyyymmdd","toISOString","createWriteStream","flags","end","logFilenames","endsWith","sort","logPaths","howManyToDelete","max","unlink","acc","_closeFileStream","logger","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_a_dialog_root_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_a_dialog_root_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabs_vue_vue_type_style_index_0_id_55ac743d_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tabs_vue_vue_type_style_index_0_id_55ac743d_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","checked","localChecked","onCheckbox","a_checkboxvue_type_script_lang_js_","components_a_checkboxvue_type_script_lang_js_"],"mappings":"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","file":"js/app.53bcf9c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-206da9c6\":\"d7ac8b4a\",\"chunk-2d222399\":\"c941791a\",\"chunk-7960c570\":\"275163c1\",\"chunk-7cca642c\":\"e3f813a3\",\"chunk-ea5e9e54\":\"5bfa1933\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-7960c570\":1,\"chunk-7cca642c\":1,\"chunk-ea5e9e54\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-206da9c6\":\"31d6cfe0\",\"chunk-2d222399\":\"31d6cfe0\",\"chunk-7960c570\":\"c7ed6f4e\",\"chunk-7cca642c\":\"40fcd3af\",\"chunk-ea5e9e54\":\"8e1e1399\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_c('div',{staticClass:\"label\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"flex\"},[_c('a-folder-dialog-button',{attrs:{\"folder\":_vm.path},on:{\"update:folder\":function($event){_vm.path=$event}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.path),expression:\"path\"}],staticClass:\"topcoat-text-input flex-grow ml1\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder,\"title\":_vm.title},domProps:{\"value\":(_vm.path)},on:{\"change\":_vm.onPathChange,\"input\":function($event){if($event.target.composing){ return; }_vm.path=$event.target.value}}}),(_vm.errors.length)?_c('span',{staticClass:\"topcoat-notification error\"},[_vm._v(_vm._s(_vm.errors[0]))]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <label>\r\n        <div class=\"label\"><slot/></div>\r\n        <div class=\"flex\">\r\n            <a-folder-dialog-button :folder.sync=\"path\"></a-folder-dialog-button>\r\n            <input class=\"topcoat-text-input flex-grow ml1\" \r\n                type=\"text\" \r\n                :placeholder=\"placeholder\" \r\n                :title=\"title\"\r\n                v-model=\"path\"\r\n                @change=\"onPathChange\"\r\n            />\r\n            <span class=\"topcoat-notification error\" v-if=\"errors.length\">{{ errors[0] }}</span>\r\n        </div>\r\n    </label>\r\n</template>\r\n\r\n<script>\r\nimport AFolderDialogButton from \"./a-folder-dialog-button.vue\";\r\n\r\nexport default {\r\n    name: \"AFolderInput\",\r\n    components: {\r\n        AFolderDialogButton\r\n    },\r\n    model: {\r\n        prop: \"value\", \r\n        event: \"change\"\r\n    },\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: \"Enter a folder path or select a folder\"\r\n        },\r\n        placeholder: {\r\n            type: String,\r\n            default: \"/my/folder\" \r\n        }, \r\n        errors: {\r\n            type: Array, \r\n            default: []\r\n        },\r\n        value: {\r\n            type: String, \r\n            required: true\r\n        }\r\n    }, \r\n    data() {\r\n        return {\r\n            path: this.value\r\n        }\r\n    },\r\n    methods: {\r\n        onPathChange(e) { \r\n            this.$emit(\"change\", this.path); \r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-folder-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-folder-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./a-folder-input.vue?vue&type=template&id=f4db6c2a&\"\nimport script from \"./a-folder-input.vue?vue&type=script&lang=js&\"\nexport * from \"./a-folder-input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * Basic object deep cloning using JSON parse & stringify\n * @param {object|array} obj \n */\nfunction simpleDeepClone(obj)\n{\n    return JSON.parse(JSON.stringify(obj));\n}\n/**\n * Generates a GUID string. Not a standard-compliant GUID.\n * @returns {string} The generated GUID.\n * @example af8a8416-6e18-a307-bd9c-f2c947bbb3aa\n * @author Slavik Meltser.\n * @link http://slavik.meltser.info/?p=142\n */\nfunction guid() \n{\n    function _p8(s) {\n        var p = (Math.random().toString(16)+\"000000000\").substr(2,8);\n        return s ? \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) : p ;\n    }\n    return _p8() + _p8(true) + _p8(true) + _p8();\n}\n\nfunction first(obj) \n{\n    if(Array.isArray(obj)) {\n        return obj[0];\n    } \n    return obj[Object.keys(obj)[0]];\n}\n/**\n * Returns new array containing only unique values\n * Works for Numbers, Strings, and Boolean\n * @param {Array} arr \n */\nfunction unique(arr) {\n    return [...new Set(arr)];\n}\nfunction getOrDefine(obj, key, defaultValue) \n{\n    if(obj[key] === undefined) {\n        obj[key] = defaultValue;\n    }\n    return obj[key];\n}\nfunction isBoolean(val) {\n    return typeof val === \"boolean\";\n}\nfunction isNumber(val) {\n    return typeof val === \"number\" && val === val;\n}\nfunction isObject(val) {\n    return val !== null && typeof(val) === \"object\";\n}\nfunction isEmptyObject(obj) \n{\n    return Object.keys(obj || {}).length === 0;\n}\nfunction isString(val) {\n    return typeof val === \"string\";\n}\nfunction isEmptyString(val) {\n    return val === \"\";\n}\nfunction isArray(val) \n{\n    return Array.isArray(val)\n}\nfunction isUndefined(val) {\n    return typeof val === \"undefined\";\n}\nfunction isNull(val) {\n    return val === null;\n}\n\n\nexport default {\n    simpleDeepClone,\n    guid, \n    first,\n    unique,\n    getOrDefine,\n    isBoolean, \n    isNumber,\n    isObject,\n    isEmptyObject,\n    isString,\n    isEmptyString,\n    isArray,\n    isUndefined, \n    isNull\n}","import os from 'os';\r\nimport fs from 'fs';\r\nimport upath from 'upath';\r\nimport host from './index';\r\n\r\n/**\r\n * Creative Suite Extendscript Script Listener Interface\r\n */\r\nclass HostScriptListener\r\n{\r\n    constructor() {\r\n        this._scriptListenerActive = false;\r\n        this._scriptListenerReaderActive = false;\r\n\r\n        this._scriptListenerJsLogsPath = upath.join(os.homedir(), \"Desktop\", \"ScriptingListenerJS.log\");\r\n        this._scriptListenerVbLogsPath = upath.join(os.homedir(), \"Desktop\", \"ScriptingListenerVB.log\");\r\n    }\r\n    /**\r\n     * @returns {Promise}\r\n     */\r\n    init() \r\n    {\r\n        console.log(\"HostScriptListener initialized.\");\r\n        return Promise.resolve();\r\n    }\r\n    destroy()\r\n    {\r\n        // Cleanup\r\n    }\r\n    startScriptListenerReader()\r\n    {\r\n        // Determine if ScriptListener is on \r\n        // Folder.desktop\r\n        // const listenerLogsPath =  upath.join(os.homedir(), \"Desktop\", \"ScriptingListenerJS.log\");\r\n        // const scriptWatcher = chokidar.watch(listenerLogsPath, {\r\n        //     awaitWriteFinish: {\r\n        //         pollInterval: 100,\r\n        //         stabilityThreshold: 2000\r\n        //     }\r\n        // });\r\n        // scriptWatcher.on(\"change\", debounce(this.readScriptListenerLog, 1000));\r\n        // //...\r\n        // scriptWatcher.removeAllListeners();\r\n        // scriptWatcher.close();\r\n        // //...\r\n\r\n        this._scriptListenerReaderActive = true;\r\n    }\r\n    stopScriptListenerReader() \r\n    {\r\n\r\n    }\r\n    clearScriptListenerLogs() \r\n    {\r\n        fs.writeFile(this._scriptListenerJsLogsPath, \"\", err => {\r\n            if(err) throw err; \r\n        });\r\n        fs.writeFile(this._scriptListenerVbLogsPath, \"\", err => {\r\n            if(err) throw err;\r\n        });\r\n    }\r\n    onScriptListenerLogs() \r\n    {\r\n        // IMPORTANT: Somme commands generated by ScriptListenerPlugin will not run via evalScript.\r\n        // In particular, modal commands, such as \"modalStateChanged\" will throw an error\r\n        // fs.readFile(path, (err, data) => {\r\n        //     if(err) throw err; \r\n\r\n        //     fire event? or call registered callback?\r\n        // });\r\n    }\r\n    isScriptListenerActive() \r\n    {\r\n        let initialSize = 0;\r\n        try {\r\n            initialSize = fs.statSync(this._scriptListenerJsLogsPath).size;\r\n        } catch {}\r\n        \r\n        // How this works:\r\n        // Since Extendscript runs on a single thread, and ScriptListener runs on this same thread.\r\n        // The 1st call triggers ScriptListener to record actions.\r\n        // The 2nd call is to ensure ScriptListener is done recording, before we read log file stats.\r\n        return Promise.all([\r\n            host.runJsx(`\r\n                app.bringToFront();\r\n                var document = app.documents.add(\"1px\", \"1px\", 1, \"ScriptListenerCheck\");\r\n                document.close(SaveOptions.SAVECHANGES);\r\n            `),\r\n            host.runJsx(`noop();`)\r\n        ])\r\n        .then(values => {\r\n            if(values[0].includes(\"error\")) {\r\n                console.error(\"Could not determine if ScriptListener is active.\");\r\n                return false;\r\n            }\r\n            try {\r\n                fs.statSync(this._scriptListenerJsLogsPath).size > initialSize;\r\n            } catch {\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n    isScriptListenerIstalled()\r\n    {\r\n        return host.runActionWithParameters(\"action.getIsScriptListenerInstalled\")\r\n        .then(result => Boolean(result));\r\n    }\r\n    toggleScriptListener(active)\r\n    {\r\n        return host.runActionWithParameters(\"action.setScriptListenerActive\", active);\r\n    }\r\n}\r\n\r\nexport default new HostScriptListener();","import Vue from 'vue';\r\nconst eventBus = new Vue();\r\nexport default eventBus;\r\n","import Enum from '../enum';\r\n\r\nconst PipelineEngineState = new Enum([\r\n    \"STOPPED\",\r\n    \"IDLE\", \r\n    \"PAUSED\",\r\n    \"PROCESSING\",\r\n]);\r\n\r\nexport default PipelineEngineState;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_c('div',{staticClass:\"label\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"flex\"},[_c('a-array-input',{staticClass:\"topcoat-text-input flex-grow\",attrs:{\"placeholder\":\"jpg, jpeg, png, psd, tif, etc.\",\"title\":_vm.title,\"value\":_vm.extensions},on:{\"change\":_vm.onExtensions}}),(_vm.errors.length)?_c('span',{staticClass:\"topcoat-notification error\"},[_vm._v(_vm._s(_vm.errors[0]))]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <label>\r\n        <div class=\"label\"><slot/></div>\r\n        <div class=\"flex\">\r\n            <a-array-input class=\"topcoat-text-input flex-grow\" \r\n                placeholder=\"jpg, jpeg, png, psd, tif, etc.\" \r\n                :title=\"title\"\r\n                :value=\"extensions\"\r\n                @change=\"onExtensions\"\r\n            />\r\n            <span class=\"topcoat-notification error\" v-if=\"errors.length\">{{ errors[0] }}</span>\r\n        </div>\r\n    </label>\r\n</template>\r\n\r\n<script>\r\nimport AArrayInput from \"./a-array-input.vue\";\r\n\r\nexport default {\r\n    name: \"AExtensionsInput\",\r\n    components: {\r\n        AArrayInput\r\n    }, \r\n    model: {\r\n        prop: \"value\", \r\n        event: \"change\"\r\n    },\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: \"Enter a folder path or select a folder\"\r\n        },\r\n        errors: {\r\n            type: Array, \r\n            default: []\r\n        },\r\n        value: {\r\n            type: Array, \r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            extensions: this.value\r\n        }\r\n    }, \r\n    methods: {\r\n        validateExtensions(extensions) \r\n        {\r\n            // TODO: Implement better validation. Maybe support file globs? \r\n            extensions = extensions.map(ext => ext.replace(/[^a-z0-9]/g, ''));\r\n            extensions = extensions.filter(ext => ext && ext.length > 0);\r\n            if(extensions.includes(\"json\")) {\r\n                return [\"json\"];\r\n            }\r\n            return extensions;\r\n        },\r\n        onExtensions(extensions) {\r\n            this.extensions = this.validateExtensions(extensions);\r\n            this.$emit(\"change\", this.extensions);\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-extensions-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-extensions-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./a-extensions-input.vue?vue&type=template&id=68d63079&\"\nimport script from \"./a-extensions-input.vue?vue&type=script&lang=js&\"\nexport * from \"./a-extensions-input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"zlib\");","import upath from 'upath';\n\n\nconst appInstallPath = upath.normalize(new CSInterface().getSystemPath(SystemPath.EXTENSION));\nconst appWorkingPath = upath.join(appInstallPath, process.env.VUE_APP_HOST_DIR);\nconst appDefaultLogPath = upath.join(appWorkingPath, \"logs\");\nconst appBuiltinActionsPath = upath.join(appWorkingPath, \"actions\");\n\nexport default {\n    appInstallPath, \n    appWorkingPath,\n    appDefaultLogPath,\n    appBuiltinActionsPath\n}","module.exports = require(\"http\");","module.exports = require(\"buffer\");","module.exports = require(\"crypto\");","module.exports = require(\"child_process\");","module.exports = require(\"net\");","module.exports = require(\"assert\");","import Conf from 'conf';\r\nimport { EventEmitter } from 'events'\r\n\r\nconst projectName = \"Mario\";\r\n/**\r\n * General app configuration data \r\n */\r\nconst general = new Conf({\r\n    projectName,\r\n    configName: \"general\",\r\n    // See: http://json-schema.org/draft/2019-09/json-schema-validation.html\r\n    schema: {\r\n        checkIsScriptListenerActiveOnStart: {\r\n            type: \"boolean\", \r\n            default: true\r\n        },\r\n        pauseAfterEveryPipeline: {\r\n            type: \"boolean\",\r\n            default: false\r\n        },\r\n        pauseAfterEveryAction: {\r\n            type: \"boolean\",\r\n            default: false\r\n        },\r\n        pauseAfterEveryImage: {\r\n            type: \"boolean\",\r\n            default: false\r\n        },\r\n        pauseOnExceptions: {\r\n            type: \"boolean\",\r\n            default: false\r\n        },\r\n        doReadFileMetadata: {\r\n            type: \"boolean\", \r\n            default: false\r\n        },\r\n        logDirectory: { \r\n            type: \"string\",\r\n            default: \"\"\r\n        },\r\n        pathToUserActions: {\r\n            type: \"string\",\r\n            default: \"\"\r\n        }, \r\n        fileWatchers: {\r\n            type: \"array\",\r\n            default: [\r\n                // TODO: Add Schema validation\r\n                // {\r\n                //  id: \"\"\r\n                //  name: \"\",\r\n                //  path: \"\",\r\n                //  useProcessedPath: true\r\n                //  processedPath: \"\", \r\n                //  extensions: []\r\n                // }\r\n            ]\r\n        },\r\n        currentTab: {\r\n            type: \"string\",\r\n            default: \"the-jsx-runner\"\r\n        },\r\n        isMainDrawerOpen: {\r\n            type: \"boolean\", \r\n            default: false\r\n        },\r\n        // See ImageSourceType enum\r\n        imageSource: {\r\n            type: \"object\", \r\n            default: {\r\n                type: \"ACTIVEDOCUMENT\", \r\n                directory: \"\", \r\n                extensions: []\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Pipeline configurations \r\n */\r\nconst pipelines = new Conf({\r\n    projectName,\r\n    configName: \"pipelines\",\r\n    // See: http://json-schema.org/draft/2019-09/json-schema-validation.html\r\n    schema: {\r\n        pipelines: {\r\n            type: \"array\",\r\n            default: [\r\n                // TODO: Add Schema validation\r\n                // {\r\n                //   id: \"\",\r\n                //   name: \"\",\r\n                //   watcherNames: [], \r\n                //   disabled: false,\r\n                //   actions: []\r\n                // }\r\n            ]\r\n        }\r\n    }\r\n});\r\n\r\n\r\n\r\n/**\r\n * Note that 'conf' does not monitor property changes on configuration object returned by .store property\r\n * Note Conf.store returns a new object each time\r\n * So we use our own Proxy here\r\n */\r\nconst ConfigurationProxy = (configurationInstance, configurationObject, events) => {\r\n\tconst handler = {\r\n\t\t// get(target, property, receiver) {\r\n\t\t// \ttry {\r\n        //         // Also Proxy nested properties\r\n\t\t// \t\treturn new Proxy(target[property], handler);\r\n\t\t// \t} catch {\r\n        //         return Reflect.get(target, property);\r\n\t\t// \t}\r\n        // },\r\n        set(target, property, value) \r\n        {\r\n            if(typeof target[property] !== typeof value) {\r\n                throw new Error(\"Attempt to set configuration property \" + property + \" with different type. This should not happen.\");\r\n            } else {\r\n                Reflect.set(target, property, value);\r\n                configurationInstance.set(property, value);\r\n                events.emit(\"change\", property);\r\n                console.log(\"Configuration updated. \" + property + \" -> \" + value);\r\n                return true;\r\n            }\r\n        },\r\n        defineProperty(target, property, attributes) {\r\n            if(!Reflect.has(target, property)) {\r\n                throw new Error(\"Attempt to define new property \" + property + \" on configuration object. This should not happen.\");\r\n            }\r\n        },\r\n        deleteProperty() {\r\n            throw new Error(\"Attempt to delete property \"  + property + \" from configuration object. This should not happen.\");\r\n        }\r\n\t};\r\n\r\n\treturn new Proxy(configurationObject, handler);\r\n};\r\n\r\n/**\r\n * Root level configuration storage object\r\n * Configurations are split up as separate store properties\r\n */\r\nconst store = new EventEmitter();\r\n/**\r\n * General configuration storage\r\n * NOTE: Only set root level properties or settings will be be saved to file\r\n */\r\nstore.general = ConfigurationProxy(general, general.store, store);\r\n/**\r\n * Pipeline configuration storage\r\n * NOTE: Only set root level properties or settings will be be saved to file\r\n */\r\nstore.pipelines = ConfigurationProxy(pipelines, pipelines.store, store);\r\n\r\n\r\nexport default store;","import Enum from '../enum';\r\n\r\nconst ImageSourceType = new Enum([\r\n    \"OPENFILES\", \r\n    \"DIRECTORY\", \r\n    \"FILEWATCHER\",\r\n    \"BLANK\",\r\n    \"ACTIVEDOCUMENT\"\r\n]);\r\n\r\nexport default ImageSourceType","module.exports = require(\"tty\");","var render, staticRenderFns\nimport script from \"./tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tabs.vue?vue&type=style&index=0&id=55ac743d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55ac743d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('a-dialog-root'),_c('adobe-menus'),_c('tabs',{attrs:{\"initial-tab\":_vm.currentTabComponent},on:{\"changed\":_vm.onTabChanged}},[_c('tab',{attrs:{\"title\":\"the-console\"}},[_vm._v(\"Console\")]),_c('tab',{attrs:{\"title\":\"the-jsx-runner\"}},[_vm._v(\"Jsx\")]),_c('tab',{attrs:{\"title\":\"the-configurator\"}},[_vm._v(\"Configuration\")]),_c('tab',{attrs:{\"title\":\"the-pipelines\"}},[_vm._v(\"Pipelines\")])],1),_c('main-controls'),_c('section',{staticClass:\"tab-content\"},[_c('keep-alive',[_c(_vm.currentTabComponent,{tag:\"component\"})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const themeManager = (function () \n{\n    'use strict';\n    const csInterface = new CSInterface();\n\n    /**\n     * Update theme with AppSkinInfo from Host Product\n     */\n    function updateThemeWithAppSkinInfo(appSkinInfo) \n    {\n        let sentinelColor = appSkinInfo.panelBackgroundColor.color.red;\n        let themeIsLight = sentinelColor > 128;\n        \n        if (themeIsLight) {\n            document.body.classList.remove(\"dark\");\n            document.body.classList.add(\"light\");\n            document.getElementById(\"theme\").href = \"css/topcoat-desktop-light.css\";\n        } else {\n            document.body.classList.remove(\"light\");\n            document.body.classList.add(\"dark\");\n            document.getElementById(\"theme\").href = \"css/topcoat-desktop-dark.css\";\n        }\n        \n        document.body.style.background = \"#\" + toHex(appSkinInfo.panelBackgroundColor.color);\n    }\n\n    function toHex(color) \n    {\n        function computeValue(rgb) { \n            let hex = Number(rgb).toString(16);\n            if (hex.length < 2) { hex = \"0\" + hex }\n            return hex;\n        };\n        let hex = \"\";\n        if (color) {\n            hex = computeValue(color.red) + \n                    computeValue(color.green) + \n                    computeValue(color.blue);\n        }\n        return hex;\n    }\n  \n    function onAppThemeColorChanged(event) \n    {\n        let appSkinInfo = csInterface.getHostEnvironment().appSkinInfo;\n        updateThemeWithAppSkinInfo(appSkinInfo);\n    }\n  \n    function init() \n    {\n        let appSkinInfo = csInterface.getHostEnvironment().appSkinInfo;\n        updateThemeWithAppSkinInfo(appSkinInfo);\n        csInterface.addEventListener(CSInterface.THEME_COLOR_CHANGED_EVENT, onAppThemeColorChanged);\n    }\n  \n    return {\n        init: init\n    };\n  \n  }());\n\n  export default themeManager;","\r\n\r\n<script>\r\nexport default {\r\n    name: \"Tabs\",\r\n    props: {\r\n        initialTab: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            activeTab: this.initialTab\r\n        }\r\n    },\r\n    computed: {\r\n        tabsList() {\r\n            return this.$slots.default;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$on('tab-click', this.onTabClick);\r\n    },\r\n    methods: {\r\n        onTabClick(tab) {\r\n            this.activeTab = tab;\r\n            this.$emit(\"changed\", this.activeTab);\r\n        },\r\n        isActiveTab(tab) {\r\n            return this.activeTab === tab;\r\n        }\r\n    },\r\n    render: function(createElement) {\r\n        // return a vnode (virtual dom node)\r\n        return createElement(\r\n            \"ul\",\r\n            {\r\n                class: \"tabs\"\r\n            },\r\n            // array of children\r\n            this.$slots.default.map(child => {\r\n                return createElement(\r\n                    \"li\", \r\n                    {\r\n                        class: \"tab\"\r\n                    },\r\n                    [child]\r\n                )\r\n            })\r\n        );\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .tabs {\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        justify-items: center;\r\n        list-style: none;\r\n        margin: .5em auto;\r\n        margin-right: auto;\r\n        padding: 0;\r\n        width: 300px;\r\n    }\r\n    .tab {\r\n        flex-grow: 1;\r\n    }\r\n    .tab button {\r\n        height: 1.5rem;\r\n        width: 100%;\r\n    }\r\n    .tab:first-of-type button {\r\n        border-left-width: 1px;\r\n        border-radius: 5px 0 0 5px;\r\n    }\r\n    .tab:last-of-type button {\r\n        border-radius: 0 5px 5px 0;\r\n    }\r\n    .dark button {\r\n        background: $dark-button-bg-inactive;\r\n        border: 1px solid $dark-button-border;\r\n        border-left-width: 0;\r\n        color: $dark-text-color;\r\n\r\n        &.active {\r\n            background: $dark-button-bg-active;\r\n            color: $dark-button-text-color-active;\r\n        }\r\n    }\r\n    .light button {\r\n        background: $light-button-bg-inactive;\r\n        border: 1px solid $light-button-border;\r\n        border-left-width: 0;\r\n        color: $light-text-color;\r\n\r\n        &.active {\r\n            background: $light-button-bg-active;\r\n            color: $light-button-text-color-active;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:{ active: _vm.isActive },on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onClick($event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <button :class=\"{ active: isActive }\" @click.prevent.stop=\"onClick\">\r\n        <slot></slot>\r\n    </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Tab\",\r\n    props: {\r\n      title: {\r\n        type: String,\r\n        required: true\r\n      }\r\n    },\r\n    computed: {\r\n        isActive() {\r\n            return this.$parent.activeTab == this.title;\r\n        }\r\n    },\r\n    methods: {\r\n        onClick(e) {\r\n            this.$parent.$emit(\"tab-click\", this.title);\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tab.vue?vue&type=template&id=f5f7bfa6&\"\nimport script from \"./tab.vue?vue&type=script&lang=js&\"\nexport * from \"./tab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-observer',{ref:\"observer\",attrs:{\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('form',{staticClass:\"main-controls my2\",on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onPipelineRun)}}},[_c('div',{staticClass:\"main-controls__controls mb2\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isStopped),expression:\"isStopped\"}],staticClass:\"topcoat-button--large\",attrs:{\"type\":\"submit\",\"title\":\"Run all pipelines with the defined source.\"}},[_vm._v(\"▶\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPaused),expression:\"isPaused\"}],staticClass:\"topcoat-button--large\",attrs:{\"type\":\"button\",\"title\":\"Resume processing.\"},on:{\"click\":_vm.onPipelineResume}},[_vm._v(\"Resume\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canPause),expression:\"canPause\"}],staticClass:\"topcoat-button--large\",attrs:{\"type\":\"button\",\"title\":\"Pause processing.\"},on:{\"click\":_vm.onPipelinePause}},[_vm._v(\"❚❚\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isStopped),expression:\"!isStopped\"}],staticClass:\"topcoat-button--large\",attrs:{\"type\":\"button\",\"title\":\"Stop all pipelines and file watchers.\"},on:{\"click\":_vm.onPipelineStop}},[_vm._v(\"◼\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMainDrawerOpen),expression:\"isMainDrawerOpen\"}],staticClass:\"main-controls__drawer columns\"},[_c('div',{staticClass:\"column is-half-tablet\"},[_c('h3',{staticClass:\"section-title\"},[_vm._v(\"File Source\")]),_c('validation-provider',{staticClass:\"flex\",attrs:{\"tag\":\"label\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.imageSource.type),expression:\"imageSource.type\"}],staticClass:\"topcoat-text-input flex-grow\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.imageSource, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.imageSourceTypeOptions),function(option){return _c('option',{key:option.value,domProps:{\"value\":option.value}},[_vm._v(\"\\n                            \"+_vm._s(option.text)+\" \\n                        \")])}),0),(errors.length)?_c('span',{staticClass:\"topcoat-notification error\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)}),(_vm.isSourceADirectory)?_c('validation-provider',{attrs:{\"slim\":\"\",\"rules\":{ required: _vm.isSourceADirectory, pathunc: { allowed: false }, pathexists: true }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('a-folder-input',{attrs:{\"title\":\"The source folder containing files for processing.\",\"errors\":errors},model:{value:(_vm.imageSource.directory),callback:function ($$v) {_vm.$set(_vm.imageSource, \"directory\", $$v)},expression:\"imageSource.directory\"}},[_vm._v(\"\\n                        Source files from this folder\\n                    \")])]}}],null,true)}):_vm._e(),(_vm.isSourceADirectory)?_c('validation-provider',{attrs:{\"slim\":\"\",\"rules\":{ required: _vm.isSourceADirectory }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('a-extensions-input',{attrs:{\"title\":\"Either multiple image extensions, or json (exclusive). A comma delimited list.\",\"errors\":errors},model:{value:(_vm.imageSource.extensions),callback:function ($$v) {_vm.$set(_vm.imageSource, \"extensions\", $$v)},expression:\"imageSource.extensions\"}},[_vm._v(\"\\n                        Only these Extensions\\n                    \")])]}}],null,true)}):_vm._e()],1),_c('div',{staticClass:\"column is-half-tablet\"},[_c('h3',{staticClass:\"section-title\"},[_vm._v(\"Pipelines State\")]),_c('div',[_vm._v(_vm._s(_vm.pipelineEngineStateText))]),_c('h3',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pipelineActionStateText),expression:\"pipelineActionStateText\"}],staticClass:\"section-title\"},[_vm._v(\"Action\")]),_c('div',[_vm._v(_vm._s(_vm.pipelineActionStateText))])])]),_c('div',{staticClass:\"main-controls__drawer-toggle\",class:{ active: _vm.isMainDrawerOpen }},[_c('button',{staticClass:\"topcoat-button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isMainDrawerOpen = !_vm.isMainDrawerOpen}}},[_vm._v(\"Status & Source \"),_c('span',[_vm._v(\"❱\")])])])])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <validation-observer \n        ref=\"observer\"\n        slim\n        v-slot=\"{ handleSubmit }\"\n    >\n        <form \n            class=\"main-controls my2\"\n            @keydown.enter.prevent\n            @submit.prevent=\"handleSubmit(onPipelineRun)\"\n        >\n            <div class=\"main-controls__controls mb2\">\n                <button class=\"topcoat-button--large\" \n                    type=\"submit\"\n                    title=\"Run all pipelines with the defined source.\"\n                    v-show=\"isStopped\">&#9654;</button>\n                <button class=\"topcoat-button--large\" \n                    type=\"button\"\n                    @click=\"onPipelineResume\"\n                    title=\"Resume processing.\"\n                    v-show=\"isPaused\">Resume</button>\n                <button class=\"topcoat-button--large\" \n                    type=\"button\"\n                    @click=\"onPipelinePause\"\n                    title=\"Pause processing.\"\n                    v-show=\"canPause\">&#10074;&#10074;</button>\n                <button class=\"topcoat-button--large\" \n                    type=\"button\"\n                    @click=\"onPipelineStop\"\n                    title=\"Stop all pipelines and file watchers.\"\n                    v-show=\"!isStopped\" \n                    >&#9724;</button>\n            </div>\n            <div class=\"main-controls__drawer columns\" \n                v-show=\"isMainDrawerOpen\"\n            >\n                <div class=\"column is-half-tablet\">\n                    <h3 class=\"section-title\">File Source</h3>\n                    <validation-provider\n                        class=\"flex\"\n                        tag=\"label\"\n                        rules=\"required\"\n                        v-slot=\"{ errors }\"\n                    >\n                        <select class=\"topcoat-text-input flex-grow\" v-model=\"imageSource.type\"> \n                            <option v-for=\"option in imageSourceTypeOptions\" :value=\"option.value\" :key=\"option.value\">\n                                {{ option.text }} \n                            </option>\n                        </select>\n                        <span class=\"topcoat-notification error\" v-if=\"errors.length\">{{ errors[0] }}</span>\n                    </validation-provider>\n                    <validation-provider \n                        slim\n                        :rules=\"{ required: isSourceADirectory, pathunc: { allowed: false }, pathexists: true }\" \n                        v-slot=\"{ errors }\"\n                        v-if=\"isSourceADirectory\"\n                    >\n                        <a-folder-input\n                            title=\"The source folder containing files for processing.\"\n                            :errors=\"errors\"\n                            v-model=\"imageSource.directory\"\n                        >\n                            Source files from this folder\n                        </a-folder-input>\n                    </validation-provider>\n                    <!-- <a-checkbox v-model=\"useRawDirectory\">\n                        Use directory itself as the input. Don't its contents?\n                    </a-checkbox> -->\n                    <validation-provider \n                        slim\n                        :rules=\"{ required: isSourceADirectory }\" \n                        v-slot=\"{ errors }\"\n                        v-if=\"isSourceADirectory\"\n                    >\n                        <a-extensions-input\n                            title=\"Either multiple image extensions, or json (exclusive). A comma delimited list.\"\n                            :errors=\"errors\"\n                            v-model=\"imageSource.extensions\"\n                        >\n                            Only these Extensions\n                        </a-extensions-input>\n                    </validation-provider>\n                </div>\n                <div class=\"column is-half-tablet\">\n                    <h3 class=\"section-title\">Pipelines State</h3>\n                    <div>{{ pipelineEngineStateText }}</div>\n                    <h3 class=\"section-title\" v-show=\"pipelineActionStateText\">Action</h3>\n                    <div>{{ pipelineActionStateText }}</div>\n                    <!-- <div v-if=\"isInitializing\">Initializing<wait-dots/></div> -->\n                </div>\n            </div>\n            <div class=\"main-controls__drawer-toggle\" :class=\"{ active: isMainDrawerOpen }\">\n                <button \n                    class=\"topcoat-button\" \n                    type=\"button\"\n                    @click=\"isMainDrawerOpen = !isMainDrawerOpen\"\n                >Status &amp; Source <span>❱</span></button>\n            </div>\n        </form>\n    </validation-observer>\n</template>\n\n<script>\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\n\nimport _ from \"../utils\";\nimport store from \"../store\"; \nimport eventBus from \"../eventBus\";\nimport Server from '../server';\nimport PipelineEngineState from '../server/pipelineEngineState';\nimport ImageSourceType from '../server/imageSourceType';\nimport AFolderInput from \"./a-folder-input.vue\";\nimport AExtensionsInput from \"./a-extensions-input.vue\";\nimport ACheckbox from \"./a-checkbox.vue\";\nimport WaitDots from './wait-dots.vue';\n\nexport default {\n    name: 'MainControls',\n    components: {\n        ValidationObserver,\n        ValidationProvider,\n        AFolderInput,\n        AExtensionsInput,\n        ACheckbox,\n        WaitDots\n    },\n    data() {\n        return {\n            pipelineEngineState: Server.pipelineEngine.state,\n            pipelineActionStateText: \"\",\n            isMainDrawerOpen: store.general.isMainDrawerOpen,\n            imageSource: _.simpleDeepClone(store.general.imageSource),\n            imageSourceTypeOptions: [\n                { text: \"Active Document\", value: ImageSourceType.ACTIVEDOCUMENT },\n                { text: \"Open Files\", value: ImageSourceType.OPENFILES }, \n                { text: \"Directory\", value: ImageSourceType.DIRECTORY }, \n                { text: \"File Watchers\", value: ImageSourceType.FILEWATCHER }, \n                { text: \"None\", value: ImageSourceType.BLANK }\n            ]\n        }\n    },\n    watch: {\n        isMainDrawerOpen: v => { store.general.isMainDrawerOpen = v; },\n        imageSource: {\n            deep: true, \n            handler: function(v) {\n                store.general.imageSource = v;\n            }\n        }\n    },\n    computed: {\n        canPause() {\n            return this.pipelineEngineState == PipelineEngineState.IDLE \n                || this.pipelineEngineState == PipelineEngineState.PROCESSING;\n        },\n        isStopped() {\n            return this.pipelineEngineState == PipelineEngineState.STOPPED;\n        },\n        isPaused() {\n            return this.pipelineEngineState == PipelineEngineState.PAUSED;\n        },\n        isProcessing() {\n            return this.pipelineEngineState == PipelineEngineState.PROCESSING;\n        },\n        isSourceADirectory() {\n            return this.imageSource.type == ImageSourceType.DIRECTORY;\n        },\n        pipelineEngineStateText() {\n            return PipelineEngineState.toKey(this.pipelineEngineState);\n        }\n    },\n    created() \n    {\n        eventBus.$on(\"pipeline-play\", pipelineName => {\n            Server.pipelineEngine.run(pipelineName, this.imageSource.type, this.imageSource.directory, this.imageSource.extensions);\n        });\n        Server.pipelineEngine.on(\"state\", state => {\n            this.pipelineEngineState = state;\n        });\n        Server.pipelineEngine.on(\"action\", actionName => {\n            this.pipelineActionStateText = actionName;\n        });\n        Server.pipelineEngine.on(\"actionend\", actionName => {\n            this.pipelineActionStateText = \"\";\n        });\n    },\n    methods: {\n        /**\n         * Submit handler\n         */\n        onPipelineRun() {\n            this.$dialog.openConfirm({\n                name: \"confirm\",\n                message: \"This will run all pipelines with the given source. Continue?\",\n                onYes: () => {\n                    Server.pipelineEngine.runAll(this.imageSource.type, this.imageSource.directory, this.imageSource.extensions);\n                }\n            });\n        },\n        onPipelineResume() {\n            Server.pipelineEngine.resume();\n        },\n        onPipelinePause() {\n            Server.pipelineEngine.pause();\n        },\n        onPipelineStop() {\n            Server.pipelineEngine.stop();\n        }\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-controls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-controls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main-controls.vue?vue&type=template&id=0e7ee75a&\"\nimport script from \"./main-controls.vue?vue&type=script&lang=js&\"\nexport * from \"./main-controls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <a-dialog-root />\r\n    <adobe-menus />\r\n    \r\n    <tabs @changed=\"onTabChanged\" :initial-tab=\"currentTabComponent\">\r\n        <tab title=\"the-console\">Console</tab>\r\n        <tab title=\"the-jsx-runner\">Jsx</tab>\r\n        <tab title=\"the-configurator\">Configuration</tab>\r\n        <tab title=\"the-pipelines\">Pipelines</tab>\r\n    </tabs>\r\n\r\n    <main-controls />\r\n\r\n    <section class=\"tab-content\">\r\n        <keep-alive>\r\n            <component :is=\"currentTabComponent\"></component>\r\n        </keep-alive>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* Can also use cep_node.require */\r\n/* npm modules */ \r\nimport upath from 'upath'; \r\n\r\n/* local modules */\r\nimport store from './store';\r\nimport themeManager from \"./themeManager\";\r\nimport Tabs from './components/tabs.vue';\r\nimport Tab from './components/tab.vue';\r\nimport MainControls from './components/main-controls.vue';\r\n\r\nexport default {\r\n    name: \"app\",\r\n    components: {\r\n        MainControls,\r\n        Tabs, \r\n        Tab,\r\n        AdobeMenus: () => import(\"./components/adobe-menus.vue\"),\r\n        TheConsole: () => import('./components/the-console.vue'),\r\n        TheJsxRunner: () => import(\"./components/the-jsx-runner.vue\"),\r\n        TheConfigurator: () => import(\"./components/the-configurator.vue\"),\r\n        ThePipelines: () => import(\"./components/the-pipelines.vue\")\r\n    },\r\n    data: () => {\r\n        return {\r\n            currentTabComponent: store.general.currentTab\r\n        }\r\n    },\r\n    mounted() {\r\n        themeManager.init();\r\n        this.hideLoadingSpinner();\r\n    },\r\n    methods: {\r\n        onTabChanged(tabTitle) {\r\n            store.general.currentTab = tabTitle;\r\n            this.currentTabComponent = tabTitle;\r\n        },\r\n        hideLoadingSpinner() {\r\n            let spinnerEl = document.getElementById(\"loading\");\r\n            if (spinnerEl) \r\n                spinnerEl.style.display = \"none\";\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/* Various helper styles to match application theme */\r\n@import url(\"http://fonts.googleapis.com/css?family=Source+Sans+Pro:300\");\r\n@import url(\"http://fonts.googleapis.com/css?family=Source+Code+Pro\");\r\n@import \"./styles/columns\";\r\n\r\n\r\n\r\nhtml, body {\r\n    font-size: 14px;\r\n    margin: 0;\r\n    padding: 0;\r\n    height: 100%;\r\n}\r\nbody {\r\n    font-family: source-sans-pro, sans-serif;\r\n    line-height: 1.5rem;\r\n\r\n    &.light {\r\n        background: #F4F4F4;\r\n        color: #181919;\r\n    }\r\n    &.dark {\r\n        color: $dark-text-color;\r\n        background: $dark-bg;\r\n    }\r\n    * {\r\n        box-sizing: border-box;\r\n    }\r\n}\r\n\r\nh1, h2, h3 {\r\n    margin: 0 0 0.5em 0;\r\n}\r\nh1 {\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    margin: 0.5em;\r\n}\r\nh2 {\r\n    font-size: 16px;\r\n    font-weight: 300;\r\n}\r\nh3 {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n}\r\nh4 {\r\n    font-size: 12px; \r\n    font-weight: 400;\r\n}\r\n.dark .text-highlight {\r\n    color: $dark-text-highlight-color;\r\n}\r\n\r\n\r\n#app {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n}\r\n\r\n.tab-title {\r\n    font-weight: bold;\r\n    padding: .25rem .5rem;\r\n    left: -.5rem;\r\n    position: relative;\r\n    width: 100vw;\r\n\r\n    @at-root .dark & {\r\n        background: #424242;\r\n    }\r\n}\r\n.tab-content {\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    padding: .5rem;\r\n\r\n    @at-root .dark & {\r\n        border: 1px solid $dark-section-border;\r\n    }\r\n    @at-root .light & {\r\n        border: 1px solid $light-section-border;\r\n    }\r\n}\r\n.section-title {\r\n    font-weight: bold;\r\n    margin: .5rem 0 0 0;\r\n    padding: .25rem 0;\r\n}\r\n.section-content {\r\n    padding: 0;\r\n}\r\n\r\n\r\n#app::-webkit-scrollbar {\r\n  display: block;\r\n}\r\nbody::-webkit-scrollbar {\r\n  width: 0px;\r\n}\r\n::-webkit-scrollbar-resizer {\r\n  display: none;\r\n  width: 0px;\r\n  background-color: transparent;\r\n}\r\n::-webkit-scrollbar-button {\r\n  height: 0px;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  display: none;\r\n}\r\n\r\n//-------------------\r\n// Utilities\r\n//-------------------\r\n@mixin clearfix() {\r\n  &::after {\r\n    display: block;\r\n    content: \"\";\r\n    clear: both;\r\n  }\r\n}\r\n.clearfix {\r\n    @include clearfix();\r\n}\r\n.flex {\r\n    display: flex;\r\n}\r\n.flex-grow {\r\n    flex-grow: 1;\r\n}\r\n.full-width {\r\n    width: 100%;\r\n}\r\n\r\n$space-1: $column-gap;\r\n$space-2: $column-gap * 2;\r\n\r\n.m0  { margin:        0 }\r\n.mt0 { margin-top:    0 }\r\n.mr0 { margin-right:  0 }\r\n.mb0 { margin-bottom: 0 }\r\n.ml0 { margin-left:   0 }\r\n.mx0 { margin-left:   0; margin-right:  0 }\r\n.my0 { margin-top:    0; margin-bottom: 0 }\r\n\r\n.m1  { margin:        $space-1 }\r\n.mt1 { margin-top:    $space-1 }\r\n.mr1 { margin-right:  $space-1 }\r\n.mb1 { margin-bottom: $space-1 }\r\n.ml1 { margin-left:   $space-1 }\r\n.mx1 { margin-left:   $space-1; margin-right:  $space-1 }\r\n.my1 { margin-top:    $space-1; margin-bottom: $space-1 }\r\n\r\n.m2  { margin:        $space-2 }\r\n.mt2 { margin-top:    $space-2 }\r\n.mr2 { margin-right:  $space-2 }\r\n.mb2 { margin-bottom: $space-2 }\r\n.ml2 { margin-left:   $space-2 }\r\n.mx2 { margin-left:   $space-2; margin-right:  $space-2 }\r\n.my2 { margin-top:    $space-2; margin-bottom: $space-2 }\r\n\r\n.ml-auto { margin-left: auto }\r\n.mr-auto { margin-right: auto }\r\n.mx-auto { margin-left: auto; margin-right: auto; }\r\n\r\n//-------------------\r\n// Topcoat Overrides\r\n//-------------------\r\n.topcoat-checkbox,\r\n.topcoat-text-input {\r\n    line-height: 1.5rem;\r\n}\r\n.topcoat-checkbox {\r\n    display: flex;\r\n    align-items: center;\r\n    margin: $column-gap 0;\r\n\r\n    &__checkmark {\r\n        margin-right: .5rem;\r\n    }\r\n}\r\n.topcoat-notification {\r\n    min-width: 24px;\r\n}\r\n.topcoat-notification.error {\r\n    bottom: 0;\r\n    opacity: .9;\r\n    overflow: visible;\r\n    position: absolute;\r\n    right: 0;\r\n    transform: translateY(100%);\r\n    z-index: 1;\r\n\r\n    &::after {\r\n        content: '\\25B6';\r\n        color: #ec514e;\r\n        font-size: 18px;\r\n        position: absolute;\r\n        right: 8px;\r\n        top: -16px;\r\n        transform: rotateZ(-90deg);\r\n    }\r\n}\r\n\r\nlabel {\r\n    display: block;\r\n    position: relative;\r\n}\r\n.label {\r\n    margin-bottom: .25rem;    \r\n}\r\n\r\n\r\n.main-controls {\r\n    z-index: 1;\r\n\r\n    &__controls {\r\n        text-align: center;\r\n    }\r\n    &__drawer {\r\n        background: rgba(0,0,0,0.2);\r\n        box-shadow: inset 0px 0px 8px 2px rgba(0, 0, 0, 0.2);\r\n        // max-height: 1000px;\r\n        overflow: hidden;\r\n        padding: .5rem .5rem 2rem .5rem;\r\n        \r\n        // &.v-enter-active,\r\n        // &.v-leave-active {\r\n        //     transition: max-height 0.4s;\r\n        // }\r\n        // &.v-enter,\r\n        // &.v-leave-to {\r\n        //     max-height: 0;\r\n        // }\r\n    }\r\n    &__drawer-toggle {\r\n        height: 0;\r\n        text-align: center;\r\n\r\n        button {\r\n            box-shadow: none !important;\r\n            border: inherit !important;\r\n        }\r\n        & span {\r\n            display: inline-block;\r\n            margin: 0  $column-gap * 2;\r\n            transform: rotateZ(90deg);\r\n        }\r\n        &.active span {\r\n            transform: rotateZ(-90deg);\r\n        }\r\n    }\r\n}\r\n\r\n.watcher,\r\n.pipeline,\r\n.action {\r\n    border: none;\r\n    border-bottom: 1px solid #333;\r\n    padding: ($column-gap * 2);\r\n\r\n    label {\r\n        position: relative;\r\n    }\r\n    label:not(.topcoat-checkbox) {\r\n        display: block;\r\n        margin-bottom: $column-gap;\r\n    }\r\n    &:last-of-type {\r\n        margin-bottom: ($column-gap * 2);\r\n    }\r\n}\r\n\r\n.configurator-buttons,\r\n.pipeline-buttons {\r\n    margin: ($column-gap * 2) 0;\r\n\r\n    button {\r\n        margin-right: .5rem;\r\n    }\r\n}\r\n\r\n.pipeline {\r\n    &.disabled {\r\n        background: rgba(255,0,0,0.03);\r\n    }\r\n}\r\n/*\r\n    -----------------------------------------------\r\n    | Handle | Expand | Data                      |\r\n    |        |        | Name (Name | X)  |\r\n    |        |        | Parameters                |\r\n    _______________________________________________\r\n*/\r\n.pipeline,\r\n.action {\r\n    align-items: flex-start;\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.pipeline-handle,\r\n.action-handle,\r\n.action-expand {\r\n    padding-left: $column-gap * 2;\r\n    padding-right: $column-gap * 2;\r\n}\r\n.pipeline-handle,\r\n.action-handle {\r\n    cursor: row-resize;\r\n}\r\n.action-expand {\r\n    cursor: pointer;\r\n    i {\r\n        opacity: .2;\r\n    }\r\n    &.show i {\r\n        opacity: 1\r\n    }\r\n}\r\n\r\n.pipeline-data,\r\n.action-data {\r\n    display: block;\r\n    flex-grow: 1;\r\n}\r\n.action-data {\r\n    .action-name {\r\n        display: flex;\r\n        width: 100%;\r\n        input[type=text] {\r\n            flex-grow: 1;\r\n        }\r\n    }\r\n    .action-parameters {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 100%;\r\n\r\n        h3 {\r\n            margin: $column-gap 0;\r\n        }\r\n    }\r\n    .action-parameter {\r\n        display: flex;\r\n        margin-bottom: $column-gap;\r\n\r\n        &__input {\r\n            flex-grow: 1;\r\n        }\r\n        input {\r\n            width: 100%;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=653fbbc1&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-dialog',{attrs:{\"isOpen\":_vm.isOpen,\"width\":_vm.width,\"height\":_vm.height}},[_c(_vm.component,_vm._g(_vm._b({tag:\"component\",on:{\"onClose\":_vm.close}},'component',_vm.props,false),_vm.listeners))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\n\nexport const events = new Vue({ name: 'a-dialog' })","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],staticClass:\"modal-backdrop\",class:{open: _vm.isOpen}},[_c('div',{staticClass:\"modal\",style:({ height: _vm.height, width: _vm.width }),on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <transition name=\"modal-fade\">\r\n        <div class=\"modal-backdrop\" \r\n            :class=\"{open: isOpen}\"\r\n            v-show=\"isOpen\">\r\n            <div class=\"modal\" v-bind:style=\"{ height: height, width: width }\" @click.stop>\r\n                <slot />\r\n            </div>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"ADialog\",\r\n    props: {\r\n        isOpen: Boolean,\r\n        width: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        height: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./a-dialog.vue?vue&type=template&id=3ff584dc&\"\nimport script from \"./a-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./a-dialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"modal-body\"},[_vm._v(\"\\n        \"+_vm._s(_vm.message)+\"\\n    \")]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"topcoat-button--large\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('onClose', true)}}},[_vm._v(\"\\n                Yes\\n            \")]),_c('button',{staticClass:\"topcoat-button--large\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('onClose', false)}}},[_vm._v(\"\\n                Cancel\\n            \")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <section class=\"modal-body\">\r\n            {{ message }}\r\n        </section>\r\n        <footer class=\"modal-footer\">\r\n            <slot name=\"footer\">\r\n                <button type=\"button\" class=\"topcoat-button--large\" @click=\"$emit('onClose', true)\">\r\n                    Yes\r\n                </button>\r\n                <button type=\"button\" class=\"topcoat-button--large\" @click=\"$emit('onClose', false)\">\r\n                    Cancel\r\n                </button>\r\n            </slot>\r\n        </footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Confirm\",\r\n    props: {\r\n        message: {\r\n            type: String, \r\n            required: true\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./confirm.vue?vue&type=template&id=ee4b402e&\"\nimport script from \"./confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./confirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <a-dialog :isOpen=\"isOpen\" :width=\"width\" :height=\"height\">\n        <component :is=\"component\" v-bind=\"props\" v-on=\"listeners\" @onClose=\"close\" />\n    </a-dialog>\n</template>\n\n<script>\nimport {events} from './events';\nimport ADialog from './a-dialog.vue';\nimport Confirm from './builtins/confirm.vue';\n\nconst defaultOptions = {\n    height: \"auto\",\n    width: \"80%\"\n};\n\nexport default {\n    name: 'ADialogRoot',\n    components: {\n        ADialog\n    },\n    data: () => ({\n        component: null,\n        width: \"\",\n        height: \"\",\n        props: null,\n        listeners: null\n    }),\n    computed: {\n        isOpen() {\n            return !!this.component;\n        }\n    },\n    mounted () {\n        events.$on('openconfirm', this.openConfirm);\n        events.$on('open', this.open);\n        events.$on('close', this.close);\n    },\n    methods: {\n        openConfirm({ onYes, onCancel, message, ...args }) \n        {\n            this.open({ \n                component: Confirm, \n                listeners: {\n                    onClose: (isYes) => {\n                        if(isYes)\n                            onYes && onYes();\n                        else \n                            onCancel && onCancel();\n                    }\n                },\n                props: {\n                    message\n                },\n                ...args\n            });\n        },\n        open({ width, height, component, props = null, listeners = null }) \n        {\n            if(this.isOpen) {\n                console.warn(\"Dialog already open. Ignoring open: \" + component.name);\n                return;\n            }\n            console.log(`Dialog open.`);\n\n            this.width = width || defaultOptions.width;\n            this.height = height || defaultOptions.height;\n            this.component = component;\n            this.props = props;\n            this.listeners = listeners;\n        },\n        /**\n         * IMPORTANT: Should only be called by child component 'onClose' event.\n         * Otherwise previous open() calls could be left hanging (e.g. waiting for a callback)\n         */\n        close() {\n            console.log(`Dialog close.`);\n\n            this.component = null;\n            this.props = null;\n            this.listeners = null;\n        }\n    }\n}\n</script>\n\n<style>\n  .modal-backdrop {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.4);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1;\n  }\n\n  .modal {\n    background: #444;\n    overflow-x: auto;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .modal-body {\n    position: relative;\n    padding: 20px 10px;\n  }\n\n  .modal-footer {\n    border-top: 1px solid #eeeeee;\n    display: flex;\n    justify-content: flex-start;\n    padding: 15px;\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-dialog-root.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-dialog-root.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./a-dialog-root.vue?vue&type=template&id=7c02ede2&\"\nimport script from \"./a-dialog-root.vue?vue&type=script&lang=js&\"\nexport * from \"./a-dialog-root.vue?vue&type=script&lang=js&\"\nimport style0 from \"./a-dialog-root.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ADialogRoot from './a-dialog-root.vue';\r\nimport {events} from './events';\r\n\r\nconst Plugin = {\r\n    install (Vue, globalOptions = {}) \r\n    {\r\n        Vue.prototype.$dialog = {\r\n            /**\r\n             * Opens a simple message confirmation dialog\r\n             * @param {string} message message to display\r\n             * @param {function} onYes callback for Yes answer\r\n             * @param {function} onCancel callback for Cancel answer\r\n             */\r\n            openConfirm(options) {\r\n                events.$emit('openconfirm', options);\r\n            },\r\n            open (options) {\r\n                events.$emit('open', options);\r\n            }\r\n        };\r\n\r\n        Vue.component('ADialogRoot', ADialogRoot)\r\n    }\r\n}\r\n  \r\nexport default Plugin","import fs from 'fs';\r\nimport { configure, setInteractionMode, extend } from 'vee-validate';\r\nimport e from 'express';\r\n\r\nsetInteractionMode(\"custom\", context => {\r\n    return {\r\n        on: [\"change\", \"blur\"]\r\n    }\r\n});\r\n\r\nextend('required', {\r\n    validate (value) {\r\n        return {\r\n            required: true,\r\n            valid: ['', null, undefined].indexOf(value) === -1\r\n        };\r\n    },\r\n    message: 'This is required',\r\n    computesRequired: true\r\n});\r\n\r\nextend('pathexists', { \r\n    async validate(value) \r\n    {\r\n        const exists = await new Promise(resolve => {\r\n            fs.access(value, error => {\r\n                resolve(!error);\r\n            });\r\n        });\r\n        if(exists) {\r\n            return true;\r\n        }\r\n        return {\r\n            valid: false\r\n        }\r\n    },\r\n    message: \"Path does not exist\"\r\n});\r\n\r\nextend('pathunc', {\r\n    validate(value, args) {\r\n        const allowed = typeof args.allowed === \"boolean\" ? args.allowed : JSON.parse(args.allowed.toLowerCase());\r\n        const path = value.trim();\r\n        const isUnc = path.startsWith(\"//\") || path.startsWith(\"\\\\\\\\\");\r\n        return !(isUnc && !allowed)\r\n    },\r\n    params: ['allowed'],\r\n    message: `Path cannot be a UNC path.`\r\n})\r\n\r\nextend('custom', {\r\n    params: ['fn'],\r\n    validate(value, params) {\r\n        const result = params.fn(value);\r\n        return result.valid ? result.valid : result.message;\r\n    }\r\n});\r\n\r\nconsole.log(\"Validation imported\");\r\nexport default { init: () => {} };\r\n\r\n\r\n// extend(\"uniq\", {\r\n//     validate: async value => {\r\n//       const response = await checkEmail(value);\r\n  \r\n//       if (response.valid) {\r\n//         return true;\r\n//       }\r\n  \r\n//       return {\r\n//         valid: false,\r\n//         data: {\r\n//           // this will be used to interpolate the message.\r\n//           serverMessage: response.errors[0]\r\n//         }\r\n//       };\r\n//     },\r\n//     // same prop as returned in the `data` object.\r\n//     message: `{serverMessage}`\r\n// });\r\n\r\n// /**\r\n//  * Master validation instance. Keeps track of validation components and their validity. \r\n//  * Should be imported at root <form> component and instance passed down to child components.\r\n//  */\r\n// class Validation\r\n// {\r\n//     constructor(root) {\r\n//         this.root = root;\r\n//         this.validatorComponents = [];\r\n//     }\r\n//     register(validator) \r\n//     {\r\n//         this.validatorComponents.push(validator);\r\n//     }\r\n//     unregister(validator) \r\n//     {\r\n//         this.validatorComponents = this.validatorComponents.filter(c => c !== validator);\r\n//     }\r\n//     isValid() {\r\n//         return this.validatorComponents.every(c => c.isValid());\r\n//     }\r\n// }\r\n// Validation.mixin = {\r\n//     directives: {\r\n//         \"errors\": {\r\n//             bind: function(el, binding, vnode) {\r\n//                 var s = JSON.stringify\r\n//                 el.innerHTML =\r\n//                 'name: '       + s(binding.name) + '<br>' +\r\n//                 'value: '      + s(binding.value) + '<br>' +\r\n//                 'expression: ' + s(binding.expression) + '<br>' +\r\n//                 'argument: '   + s(binding.arg) + '<br>' +\r\n//                 'modifiers: '  + s(binding.modifiers) + '<br>' +\r\n//                 'vnode keys: ' + Object.keys(vnode).join(', ')\r\n//             }\r\n//         }\r\n//     },\r\n//     props: {\r\n//         validation: Object\r\n//     },\r\n//     data() {\r\n//         return {\r\n//             errors: {}\r\n//         }\r\n//     },\r\n//     beforeCreate() { \r\n//         // Make errors observable\r\n//         this.$validator = new Validator(this.errors);  \r\n\r\n//         // Register with Master \r\n//         this.validation = this.validation || new Validation();\r\n//         this.validation.register(this.$validator);\r\n//     },\r\n//     beforeDestroy() {\r\n//         // Un-Register with Master \r\n//         this.validation.unregister(this.$validate);\r\n//     }\r\n// }\r\n// /**\r\n//  * Holds current component errors. An instance is created on each component using the Validation.mixin\r\n//  */\r\n// class Validator\r\n// {\r\n//     constructor(validationErrors) {\r\n//         this._validationErrors = validationErrors;\r\n//     }\r\n//     /**\r\n//      * Set the validity/message of a given field\r\n//      * @param {string} key the name of the form field \r\n//      * @param {*} message the validation message or empty if valid\r\n//      */\r\n//     pushError(key, message) \r\n//     {\r\n//         this._validationErrors[key] = message;\r\n//     }\r\n//     isValid() \r\n//     {\r\n//         return Object.values(this._validationErrors).filter(error => !!error).length == 0;\r\n//     }\r\n// }\r\n\r\n// export default Validation;  \r\n\r\n\r\n\r\n\r\n\r\n// Vue.directive(\"demo\", {\r\n//     bind: function(el, binding, vnode) {\r\n//         var s = JSON.stringify\r\n//         el.innerHTML =\r\n//         'name: '       + s(binding.name) + '<br>' +\r\n//         'value: '      + s(binding.value) + '<br>' +\r\n//         'expression: ' + s(binding.expression) + '<br>' +\r\n//         'argument: '   + s(binding.arg) + '<br>' +\r\n//         'modifiers: '  + s(binding.modifiers) + '<br>' +\r\n//         'vnode keys: ' + Object.keys(vnode).join(', ')\r\n//     }\r\n// });","import Vue from 'vue';\nimport App from './app.vue';\nimport Dialog from './dialog';\nimport Host from './host';\nimport HostScriptListener from './host/hostScriptListener';\nimport Logger from './console';\nimport Server from './server';\nimport Validation from './validation';\n\nVue.config.productionTip = false;\nVue.config.devtools = true;\nVue.use(Dialog);\n\nconst destroy = () => {\n    Server.destroy();\n    Host.destroy();\n    HostScriptListener.destroy();\n    Logger.destroy();\n};\n\nconst create = async () => {\n    await Logger.init();\n    await Server.init();\n    await Host.init(); \n    await HostScriptListener.init();\n\n    window.vue = new Vue({\n        render: h => h(App),\n        beforeDestroy: destroy\n    }).$mount('#app');\n};\n\ncreate();\n\nwindow.addEventListener(\"beforeunload\", destroy);\n\n/**  \n    beforeCreate - about to be initialized. data is not yet reactive \n    created - events and data observation setup. not yet in native DOM. access data here, not in mounting hooks \n    beforeMount - right before render happens. template compiled and virtual DOM update by vue.  \n    mounted - $el added and native DOM updated. do modify DOM for integration of non-Vue libraries here.\n    beforeUpdate - data has changed and update cycle starting. do get data before actually is rendered. \n    updated - data changed and native DOM updated. do access DOM after property changes here. \n    beforeDestroy - about to teardown. still fully present and functional. do cleanup events, and subscriptions \n    destroyed - nothing left on your component. do last minute cleanups, etc. \n*/\n\n\n// Vue.directive(\"print\", {\n//     bind: function(el, binding, vnode) {\n//         var s = JSON.stringify\n//         el.innerHTML =\n//         'name: '       + s(binding.name) + '<br>' +\n//         'value: '      + s(binding.value) + '<br>' +\n//         'expression: ' + s(binding.expression) + '<br>' +\n//         'argument: '   + s(binding.arg) + '<br>' +\n//         'modifiers: '  + s(binding.modifiers) + '<br>' +\n//         'vnode keys: ' + Object.keys(vnode).join(', ')\n//     }\n// });","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"topcoat-button\",on:{\"click\":_vm.onClick}},[_vm._v(\"🖿\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <span class=\"topcoat-button\" @click=\"onClick\">&#128447;</span>\r\n</template>\r\n\r\n<script>\r\nimport host from '../host';\r\n\r\nexport default {\r\n    name: \"AFolderDialogButton\",\r\n    // NOTE: Using prop instead of v-model to avoid issues with Vee-Validation (since it looks for first v-model in its tree)\r\n    props: {\r\n        folder: {\r\n            type: String, \r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        onClick(e) \r\n        {\r\n            host.runActionWithParameters(\"action.selectFolder\", this.value)\r\n            .then(result => {\r\n                if(result.toLowerCase().includes(\"error\"))\r\n                    console.error(result);\r\n\r\n                this.$emit(\"update:folder\", result);\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    button {\r\n        padding: 0 1rem;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-folder-dialog-button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-folder-dialog-button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./a-folder-dialog-button.vue?vue&type=template&id=900aa16c&scoped=true&\"\nimport script from \"./a-folder-dialog-button.vue?vue&type=script&lang=js&\"\nexport * from \"./a-folder-dialog-button.vue?vue&type=script&lang=js&\"\nimport style0 from \"./a-folder-dialog-button.vue?vue&type=style&index=0&id=900aa16c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"900aa16c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=scss&\"","import os from 'os';\r\nimport upath from 'upath';\r\nimport appGlobal from '../global';\r\nimport { reject } from 'async';\r\n\r\n/*\r\n    Creative Suite Extendscript Interface / Decorator\r\n*/\r\nclass Host \r\n{\r\n    constructor() \r\n    {\r\n        /**\r\n         * To reduce coupling with GUI, don't use this raw interface in Vue components\r\n         */\r\n        this.interface = new CSInterface();\r\n        this._initialized = false;\r\n    }\r\n    /**\r\n     * @returns {Promise}\r\n     */\r\n    init() \r\n    {\r\n        if(this._initialized) return;\r\n        this._initialized = true;\r\n\r\n        // Host Environment Setup\r\n        this.importScript(\"utils.jsx\");\r\n        this.importScript(\"polyfil.jsx\");\r\n        this.importScript(\"image.jsx\"); \r\n        \r\n        // Listeners\r\n        this.interface.addEventListener(\"log\", event => {\r\n            console.log(\"Jsx Event: \" + event.data);\r\n        });\r\n        this.interface.addEventListener(\"setTimeout\", this.onSetTimeout.bind(this));\r\n\r\n        const apiVersion = this.interface.getCurrentApiVersion();\r\n        console.log(`Host initialized.\\n\r\n            Install Path: ${appGlobal.appInstallPath}\\n\r\n            Working Path: ${appGlobal.appWorkingPath}\\n\r\n            Default Log Path: ${appGlobal.appDefaultLogPath}\\n\r\n            Builtin Action Path: ${appGlobal.appBuiltinActionsPath}\\n\r\n            Creative Suite API Version: ${apiVersion.major}.${apiVersion.minor}.${apiVersion.micro}\\n\r\n            OS: ${this.interface.getOSInformation()}`);\r\n            \r\n        return Promise.resolve();\r\n    }\r\n    destroy()\r\n    {\r\n        \r\n    }\r\n    /*---------------------\r\n            Events\r\n    ---------------------*/\r\n    dispatchEvent(eventName, data) \r\n    {\r\n        const scope = \"APPLICATION\";\r\n        const event = new CSEvent(eventName, scope);\r\n              event.data = data;\r\n        this.interface.dispatchEvent(event);\r\n    }\r\n    onSetTimeout(event)\r\n    {\r\n        var data = event.data.split(\",\");\r\n        var callbackId = Number(data[0]);\r\n        var delay = Number(data[1]);\r\n\r\n        var _this = this;\r\n        setTimeout(function()\r\n        {\r\n            // Since ExtendScript doesn't have a setTimeout. We're hijacking the event loop here.\r\n            _this.runJsx(`executeSetTimeoutCallback(${callbackId})`)\r\n            .then(result => {\r\n                if(result.includes(\"error\")) {\r\n                    console.error(result);\r\n                }\r\n            })\r\n        }, delay);\r\n    }\r\n    /*---------------------\r\n        Extend Script\r\n    ---------------------*/\r\n    // NOTES:\r\n    // ActionReference is what to perform the action on within Photoshop  (e.g. document, marque tool, etc)\r\n    // The Action Manager system keeps track of a large number of Descriptors keys relative to the status of:\r\n    // - The Application\r\n    // - Documents\r\n    // - Layers\r\n    // - Channels\r\n    // - Paths\r\n    // - History\r\n    // - ActionSets and Actions \r\n\r\n    /**\r\n     * Import/Execute an ExtendScript file, such as a library.\r\n     * @param {string} fileName - name of file relative to app distribution path\r\n     */\r\n    async importScript(fileName) \r\n    {\r\n        const importPath = upath.join(appGlobal.appWorkingPath, fileName);\r\n        const result = await this.runJsx(`importJsx(\"${importPath}\");`);\r\n        console.log(\"Jsx File Imported: \" + importPath + \" Result: \" + result);\r\n    }\r\n    /**\r\n     * Evaluate ExtendScript/JSX script on Host\r\n     * @param {string} script \r\n     * @returns {Promise}\r\n     */\r\n    runJsx(script) \r\n    {\r\n        return new Promise(resolve => {\r\n            this.interface.evalScript(script, result => {\r\n                resolve(result);\r\n            })\r\n        });\r\n    }\r\n    /**\r\n     * Evaluate ExtendScript/JSX script on Host and throw an Exception if string \"error\" or \"exception\" is in the result.\r\n     * NOTE: If result is 'Evalscript error.' there may be a syntax error in the script string\r\n     * @param {string} script \r\n     * @returns {Promise}\r\n     */\r\n    runJsxWithThrow(script) \r\n    {\r\n        return new Promise((resolve, reject) => \r\n        {\r\n            this.interface.evalScript(`(function(){\r\n                try {\r\n                    ${script}\r\n                } catch(e) {\r\n                    return e.toString();\r\n                }\r\n            }())`, \r\n            (result) => {\r\n                const lowerCaseResult = result.toLowerCase();\r\n                if(lowerCaseResult.includes(\"error\") || lowerCaseResult.includes(\"exception\")) {\r\n                    reject(`\\nJsx:\\n${script}\\nException in Result:\\n${result}\\n`);\r\n                } else {\r\n                    resolve(result);\r\n                }\r\n            })\r\n        });\r\n    }\r\n    /**\r\n     * Run the ExtendScript action function by the given name\r\n     * @param {string} functionName \r\n     * @param {number|string|boolean|object|array} parameters \r\n     * @returns {Promise}\r\n     */\r\n    runActionWithParameters(functionName, parameters)\r\n    {\r\n        const parametersJson = JSON.stringify(parameters);\r\n        return this.runJsxWithThrow(`\r\n            var result = ${functionName}(${parametersJson});\r\n            return result;\r\n        `);\r\n    }\r\n    \r\n    /**\r\n     * Converts an Action Manager charId to a stringId\r\n     * Returns empty string if error occurred.\r\n     * @param {string} charId \r\n     */\r\n    convertCharToStringId(charId) {\r\n        return this.runJsx(`t2s(c2t('${charId}'))`)\r\n        .then(result => {\r\n            return result.includes(\"error\") ? \"\" : result;\r\n        });\r\n    }\r\n    /**\r\n     * Converts an Action Manager stringId to a charId\r\n     * Returns empty string if error occurred.\r\n     * @param {string} charId \r\n     */\r\n    convertStringToCharId(stringId) {\r\n        return this.runJsx(`t2c(s2t('${stringId}'))`)\r\n        .then(result => {\r\n            return result.includes(\"error\") ? \"\" : result;\r\n        });\r\n    }\r\n}\r\n\r\nexport default new Host();","module.exports = require(\"url\");","\"use strict\";\r\n\r\n\r\nfunction Enum(enumArr, offset) \r\n{\r\n    if(!(this instanceof Enum)) { return new Enum(enumArr, offset); }\r\n\r\n    return create_.call(this, enumArr, offset);\r\n}\r\n/** Essentially the enumeration starting value. Default is 0 */\r\nEnum.prototype.offset = 0;\r\n/** Return a copy of this.keys */\r\nEnum.prototype.toArray = function() {\r\n    return this.keys.slice(0);\r\n};\r\n/** Returns whether the given value is in the enumeration */\r\nEnum.prototype.isValid = function(val) {\r\n    return Number.isInteger(val) && (val - this.offset) < this.keys.length && (val - this.offset) >= 0;\r\n};\r\n/** Returns the key associated with the given value, else undefined. */\r\nEnum.prototype.toKey = function(val) {\r\n    if( !this.isValid(val) ) { return undefined; }\r\n    return this.keys[val - this.offset];\r\n};\r\n/** Returns the value associated with the given key, else undefined. */\r\nEnum.prototype.parse = function(key) {\r\n    if( !(typeof key === \"string\") ) { return undefined; }\r\n\r\n    key = key.trim().toUpperCase();\r\n    for(var i = 0; i < this.keys.length; ++i) {\r\n        if( this.keys[i].toUpperCase() === key ) { \r\n            return i + this.offset; \r\n        }\r\n    }\r\n    return undefined;\r\n};\r\n\r\n/**\r\n * TODO: Needs Performance Improvement\r\n * @param {*} enumArr \r\n * @param {*} offset \r\n */\r\nfunction create_(enumArr, offset) \r\n{\r\n    if(!Array.isArray(enumArr)) {\r\n        throw new Error(\"Enum: create() Invalid parameter type. Expected Array.\");\r\n    }\r\n\r\n    var validName = /[A-Z_][A-Z0-9_]*/gi;\r\n\r\n    // Define array keys as properties\r\n    var enumer = this;\r\n        enumer.keys = [];\r\n        enumer.keys.length = enumArr.length;\r\n\r\n    if(Number.isInteger(offset)) {\r\n        enumer.offset = offset;\r\n    } else {\r\n        offset = 0;\r\n    }\r\n        \r\n    var nextKey;\r\n    for(var i = 0; i < enumArr.length; ++i) {\r\n        if( typeof enumArr[i] !== \"string\" || !validName.test(enumArr[i]) ) {\r\n            throw new Error(\"Enum: create() Not a string or Invalid name: \" + enumArr[i]);\r\n        }\r\n        validName.lastIndex = 0;\r\n        \r\n        nextKey = enumArr[i];\r\n        enumer.keys[i] = nextKey;\r\n        enumer[ nextKey ] = i + offset;       \r\n    }\r\n\r\n    // TODO: Use defineProperty\r\n    // Object.defineProperty(this, 'enumValues', {\r\n    //     value: [],\r\n    //     configurable: false,\r\n    //     writable: false,\r\n    //     enumerable: true\r\n    // });\r\n    return enumer;\r\n}\r\n\r\nexport default Enum;\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"7fbc\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{domProps:{\"innerHTML\":_vm._s(_vm.dots)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <span v-html=\"dots\"></span>\r\n</template>\r\n\r\n<script>\r\nlet handle = 0;\r\n\r\nexport default {\r\n    name: \"WaitDots\", \r\n    props: {\r\n        intervalMs: {\r\n            type: Number,\r\n            default: 500\r\n        }\r\n    },\r\n    data() {\r\n        return { \r\n            dotCount: 1,\r\n            dots: \".\" \r\n        };\r\n    },\r\n    mounted() {\r\n        handle = setInterval(() => {\r\n            this.dots = \".\".repeat(this.dotCount);\r\n            this.dots += \"&nbsp;\".repeat(4 - this.dotCount);\r\n            this.dotCount = (this.dotCount + 1) % 4;\r\n        }, this.intervalMs);\r\n    },\r\n    beforeDestroy() {\r\n        clearInterval(handle);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wait-dots.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wait-dots.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wait-dots.vue?vue&type=template&id=6cb2c8b3&\"\nimport script from \"./wait-dots.vue?vue&type=script&lang=js&\"\nexport * from \"./wait-dots.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"util\");","module.exports = require(\"os\");","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-folder-dialog-button.vue?vue&type=style&index=0&id=900aa16c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-folder-dialog-button.vue?vue&type=style&index=0&id=900aa16c&scoped=true&lang=css&\"","module.exports = require(\"stream\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.valueString},on:{\"input\":function($event){$event.preventDefault();},\"change\":function($event){$event.preventDefault();return _vm.onValueChange($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <input type=\"text\" \r\n        :value=\"valueString\" \r\n        @input.prevent\r\n        @change.prevent=\"onValueChange\" \r\n    />\r\n</template>\r\n\r\n<script>\r\n// TODO Make this a full blow label wrapper like a-folder-input\r\nexport default {\r\n    name: \"AArrayInput\",\r\n    model: {\r\n        prop: \"value\",\r\n        event: \"change\"\r\n    },\r\n    props: {\r\n        value: {\r\n            type: Array, \r\n            required: true\r\n        },\r\n        removeEmpty: {\r\n            type: Boolean,\r\n            required: false, \r\n            default: true\r\n        }\r\n    },\r\n    computed: {\r\n        valueString() {\r\n            return this.value ? this.value.join(\", \") : \"\";\r\n        }\r\n    }, \r\n    methods: {\r\n        emitNewArray(newValue) {\r\n            // Remove whitespace\r\n            let newArray = newValue.split(\",\").map(v => v.trim());\r\n            if(this.removeEmpty) {\r\n                newArray = newArray.filter(v => !!v);\r\n            }\r\n            this.$emit(\"change\", newArray);\r\n        },\r\n        onValueChange(e) {\r\n            this.emitNewArray(event.target.value);\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-array-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-array-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./a-array-input.vue?vue&type=template&id=404bcd8a&\"\nimport script from \"./a-array-input.vue?vue&type=script&lang=js&\"\nexport * from \"./a-array-input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"fs\");","module.exports = require(\"path\");","\n\n/**\n * Represents a single Image process\n */\nexport default class Image \n{\n    constructor() \n    {\n        /**\n         * One of the following:\n         *  - An absolute image path (e.g. a user selected directory)\n         *  - An absolute directory path (e.g. when multiple input images are needed)\n         *  - Blank, if there is no source file\n         */\n        this.inputImagePath = \"\";\n        /**\n         * The parent directory containing the inputImagePath or inputDataPath, or blank if neither is defined\n         */\n        this.inputDirectory = \"\";\n        /**\n         * If available, the json data file for the Image process\n         */\n        this.inputDataPath = \"\";\n        /**\n         * External data (stored outside file) metadata necessary for processing\n         */\n        this.data = {};     \n        /**\n         * Internal data (Metadata stored in the file)\n         */\n        this.metadata = {}; \n    }\n}\n\n","import upath from 'upath';\r\n\r\n/**\r\n * Returns true if path starts with // or \\\\ \r\n * @param {string} val the path string\r\n */\r\nfunction isUncPath(val) \r\n{\r\n    val = val.trim();\r\n    return val.startsWith(\"//\") || val.startsWith(\"\\\\\\\\\");\r\n}\r\n\r\n/**\r\n * Same as upath.dirname except ensures that double slash is maintained for UNC paths\r\n * @param {string} val the path string\r\n */\r\nfunction dirname(val)\r\n{\r\n    return _preserveUnc(val, upath.dirname(val));\r\n}\r\n/**\r\n * Same as upath.normalize except ensures that double slash is maintained for UNC paths\r\n * @param {string} val the path string\r\n */\r\nfunction normalize(val)\r\n{\r\n    return _preserveUnc(val, upath.normalize(val));\r\n}\r\n/**\r\n * Same as upath.join except ensures that double slash is maintained for UNC paths\r\n * @param {string} val the path string\r\n */\r\nfunction join(firstPart)\r\n{\r\n    return _preserveUnc.call(null, firstPart, upath.join.apply(upath, arguments));\r\n}\r\n\r\nfunction _preserveUnc(originalPath, newPath) \r\n{\r\n    if(isUncPath(originalPath)) {\r\n        return newPath.charAt(0) + newPath;\r\n    } \r\n    return newPath;\r\n}\r\n\r\nexport default {\r\n    isUncPath,\r\n    dirname,\r\n    normalize, \r\n    join\r\n}","import upath from 'upath';\r\nimport uncSafePath from '../unc-safe-path';\r\nimport fs from 'fs';\r\nimport Image from './image';\r\n\r\nexport default class ImageFileMover \r\n{\r\n    constructor() {}\r\n\r\n    /**\r\n     * Moves the Image and its associated files to the given processed directory.\r\n     * Does nothing if Image does not contain any path values.\r\n     * @param {Image} image \r\n     * @param {string} toDirectory target directory. Absolute or relative to input or data source path.\r\n     * @param {string} [errorMessage] optional error message to write to error.logs\r\n     */\r\n    async move(image, toDirectory, errorMessage)\r\n    {\r\n        if(!toDirectory) {\r\n            return Promise.resolve();\r\n        }\r\n        if(!upath.isAbsolute(toDirectory)) \r\n        {\r\n            if(!image.inputDirectory) {\r\n                console.log(\"Image not moved. Move directory was relative but input directory was not defined.\");\r\n                return Promise.resolve();\r\n            } else {\r\n                toDirectory = uncSafePath.join(image.inputDirectory, toDirectory);\r\n            }\r\n        }\r\n\r\n        console.log(\"Moving file to directory: \" + toDirectory);\r\n        await this._makeDirectory(toDirectory);\r\n        this._moveToDirectory(image, toDirectory);\r\n        this._writeError(image, toDirectory, errorMessage);\r\n    }\r\n    _makeDirectory(directory) \r\n    {\r\n        return new Promise(resolve => {\r\n            fs.mkdir(directory, { recursive: true }, err => {\r\n                if(err && err.code != \"EEXIST\") {\r\n                    reject(err + \"\\nImage move failed. Could not create directory.\");\r\n                } else {\r\n                    resolve();\r\n                }\r\n            });\r\n        });\r\n    }\r\n    _moveToDirectory(image, directory) \r\n    {\r\n        const paths = this._getImagePaths(image);\r\n        for(const path of paths) \r\n        {\r\n            const basename = upath.basename(path);\r\n            const toPath = upath.join(directory, basename);\r\n            fs.rename(path, toPath, err => {\r\n                if(err) \r\n                    console.error(err + \"\\nImage path could not be moved to \" + toPath);\r\n            });\r\n        }\r\n    }\r\n    _getImagePaths(image) \r\n    {\r\n        const paths = [\r\n            image.inputImagePath,\r\n            image.inputDataPath\r\n        ];\r\n        return paths.filter(p => !!p); // remove empty paths\r\n    }\r\n    _writeError(image, directory, message) \r\n    {\r\n        if(!message) {\r\n            return;\r\n        }\r\n        const logPath = upath.join(directory, \"error.logs\");\r\n        fs.writeFile(logPath, [   \r\n            `\\n`,\r\n            `Time: ${new Date().toLocaleString()}`,\r\n            `inputImagePath: ${image.inputImagePath}`, \r\n            `inputDataPath: ${image.inputDataPath}`, \r\n            message\r\n        ].join(`\\n`), \r\n        {\r\n            flag: 'a'\r\n        },\r\n        err => {\r\n            if(err) \r\n                console.error(err + \"\\nCould not write Image error to \" + logPath);\r\n        });\r\n    }\r\n}","import exiftool from 'node-exiftool';\r\nimport upath from 'upath';\r\nimport uncSafePath from '../unc-safe-path';\r\nimport fs from 'fs';\r\nimport Image from './image';\r\nimport ImageSourceType from './imageSourceType';\r\n\r\nexport default class ImageFileReader\r\n{\r\n    /**\r\n     * Create a reader used to generate an Image instance.\r\n     * If a json file is read, data will be parsed and available on the resulting Image instance.\r\n     */\r\n    constructor() {}\r\n\r\n    /**\r\n     * Create a new Image instance, using the image or json file path, if given.\r\n     * @param {String} [inputImagePath] the image or json file path. Path should be absolute unless it is an Open File in the Adobe application.\r\n     * @param {boolean} [readMetadata = false] whether to read the image files metadata (slower)\r\n     */\r\n    async read(path, readMetadata = false)\r\n    {\r\n        let inputImagePath = path || \"\";\r\n        let inputDirectory = this._isPathDefinedAndAbsolute(path) ? uncSafePath.dirname(path) : \"\";\r\n        let inputDataPath = \"\";\r\n        let data = {};\r\n        let metadata = {};\r\n        if(this._isFile(inputImagePath)) \r\n        {\r\n            if(this._isJsonFile(inputImagePath)) \r\n            {\r\n                inputDataPath = inputImagePath;\r\n                data = await this._readJson(inputDataPath);\r\n                // Grab new image source path from json, if available\r\n                inputImagePath = this._ensureAbsolutePath(data.inputImagePath, inputDirectory);\r\n            }\r\n            if(this._isFile(inputImagePath) && readMetadata) \r\n            {\r\n                metadata = await this._readMetadata(inputImagePath);\r\n            }\r\n        }\r\n\r\n        const image = new Image();\r\n              image.inputImagePath = inputImagePath;        \r\n              image.inputDataPath = inputDataPath;\r\n              image.inputDirectory = inputDirectory;\r\n              image.data = data;\r\n              image.metadata = metadata;\r\n        return image;\r\n    }\r\n    /**\r\n     * Reads any json from the given data source, if it is json and it exists.\r\n     * @returns {object}\r\n     */\r\n    async _readJson(inputDataPath)\r\n    {\r\n        return new Promise(resolve => {\r\n            fs.readFile(inputDataPath, { encoding: 'utf8' }, (error, data) => {\r\n                if(error) {\r\n                    throw new Error(`Image json ${inputDataPath} could not be read.`);\r\n                }\r\n                resolve(JSON.parse(data));\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Reads any metadata from the given source, if it is a file\r\n     * @returns {object}\r\n     */\r\n    async _readMetadata(inputImagePath)\r\n    {\r\n        if(!this._isFile(inputImagePath)) {\r\n            return Promise.resolve();\r\n        }\r\n\r\n        let ep = new exiftool.ExiftoolProcess();\r\n        let processid = 0;\r\n\r\n        return ep.open()\r\n        .then(pid => {\r\n            processid = pid;\r\n        })\r\n        .then(() => ep.readMetadata(inputImagePath, ['-File:all']))\r\n        .then(metadata => {\r\n            let fileMetadata = metadata.data[0];\r\n            return fileMetadata;\r\n        })\r\n        .finally(() => {\r\n            ep.close();\r\n        });\r\n    }\r\n    _isPathDefinedAndAbsolute(path) {\r\n        return typeof path === \"string\" && path.length > 0 && upath.isAbsolute(path);\r\n    }\r\n    _ensureAbsolutePath(path, parentDirectory) {\r\n        if(!path) {\r\n            return \"\";\r\n        }\r\n        return upath.isAbsolute(path) ? path : upath.join(parentDirectory, path);\r\n    }\r\n    _itExists(path) {\r\n        return fs.existsSync(path || \"\");\r\n    }\r\n    _isJsonFile(path) {\r\n        return upath.extname(path) === \".json\";\r\n    }\r\n    _isFile(path) {\r\n        try {\r\n            return fs.lstatSync(path || \"\").isFile();\r\n        } catch {\r\n            return false;\r\n        }\r\n    }\r\n}","import fs from 'fs';\r\nimport chokidar from 'chokidar';\r\nimport upath from 'upath';\r\nimport isUncPath from 'is-unc-path';\r\nimport EventEmitter from \"events\";\r\nimport ImageSourceType from './imageSourceType';\r\nimport host from '../host';\r\n\r\n\r\nclass ImageSourcePath \r\n{\r\n    /**\r\n     * Data object containing path (file or directory) and valid file extensions array for new image(s)\r\n     * @param {string} path \r\n     * @param {string[]} validExtensions \r\n     */\r\n    constructor(path, validExtensions) \r\n    {\r\n        this.path = path;\r\n        this.extensions = validExtensions;\r\n    }\r\n}\r\n\r\nclass ImageSource\r\n{\r\n    /**\r\n     * Data object containing context information for processing new images\r\n     * @param {ImageSourceType} sourceType e.g. ImageSourceType.FILEWATCHER\r\n     * @param {ImageSourcePath} [sourcePath] e.g. { path: \"C:/images\" }\r\n     */\r\n    constructor(sourceType, sourcePath)\r\n    {\r\n        this.sourceType = sourceType;\r\n        this.sourcePath = sourcePath;\r\n    }\r\n}\r\n\r\n\r\nlet nextProducerId = 0;\r\n/**\r\n * Reads images from source described by ImageTap and produces file paths for consumption\r\n * A producer has a single source.\r\n * A producer will not automatically deplete when sourcing from a File Watcher\r\n * IMPORTANT: Multiple producers should not be created for the same set of files\r\n */\r\nexport default class ImageFileProducer extends EventEmitter\r\n{\r\n    constructor(imageTap) \r\n    {\r\n        super();\r\n        this._id = nextProducerId++;\r\n        this._imageTap = imageTap;\r\n        this._fileWatcher = null;\r\n        this._isDepleted = false;\r\n    }\r\n    get id() {\r\n        return this._id;\r\n    }\r\n    produce()\r\n    {\r\n        switch(this._imageTap.sourceType) \r\n        {\r\n            case ImageSourceType.FILEWATCHER: this._sourceFileWatchers(); break;\r\n            case ImageSourceType.DIRECTORY: this._sourceDirectory(); break;\r\n            case ImageSourceType.OPENFILES: this._sourceOpenFiles(); break;\r\n            case ImageSourceType.BLANK: this._sourceBlank(); break;\r\n            case ImageSourceType.ACTIVEDOCUMENT: this._sourceActiveDocument(); break;\r\n            default: throw new Error(\"Unknown ImageSourceType: \" + this._imageTap.sourceType);\r\n        }\r\n    }\r\n    destroy()\r\n    {\r\n        // ASSERT: Should NOT emit any more files from this point\r\n        if(this._fileWatcher) {\r\n            this._fileWatcher.removeAllListeners();\r\n            this._fileWatcher.close();\r\n        }\r\n        this.removeAllListeners();\r\n    }\r\n    _emitFiles(files) \r\n    {\r\n        this.emit(\"files\", this._id, files);\r\n    }\r\n    _sourceFileWatchers() \r\n    {\r\n        const watchPathRoot = this._imageTap.sourcePath.path;\r\n        const watchExtensions = this._imageTap.sourcePath.extensions;\r\n        const watchPaths = watchExtensions.map(ext => upath.join(watchPathRoot, \"*.\" + ext));\r\n\r\n        if(isUncPath(watchPathRoot)) {\r\n            throw Error(`Watching network paths is problematic. Only local directories supported at this time.`);\r\n        }\r\n        if(!fs.existsSync(watchPathRoot)) {\r\n            throw Error(`Watch path: ${watchPathRoot} does not exist.`);\r\n        }\r\n        const watcher = chokidar.watch(watchPaths, {\r\n            ignored: /^\\./, \r\n            depth: 0,\r\n            awaitWriteFinish: {\r\n                stabilityThreshold: 2000,\r\n                pollInterval: 500\r\n            }\r\n        })\r\n        .on(\"add\", newPath => \r\n        {\r\n            this._emitFiles([newPath]);\r\n        });\r\n\r\n        this._fileWatcher = watcher;\r\n    }\r\n    /**\r\n     * Reads source directory for files and filters by extensions\r\n     */\r\n    _sourceDirectory() \r\n    {\r\n        const directory = this._imageTap.sourcePath.path;\r\n        const extensions = this._imageTap.sourcePath.extensions;\r\n\r\n        fs.readdir(directory, { encoding: \"utf8\" }, (error, files) => {\r\n            if(error) {\r\n                this.emit(\"depleted\", this._id);\r\n                throw new Error(error);\r\n            }\r\n            if(files) \r\n            {\r\n                files = files.map(file => upath.join(directory, file));\r\n                files = files.filter(file => {\r\n                    const ext = file.split('.').pop();\r\n                    return extensions.includes(ext);\r\n                });\r\n                this._isDepleted = true;\r\n                this._emitFiles(files);\r\n            }\r\n            this.emit(\"depleted\", this._id);\r\n        });\r\n    }\r\n    /**\r\n     * Asks Adobe application for currently open documents \r\n     */\r\n    _sourceOpenFiles() \r\n    {\r\n        host.runActionWithParameters(\"action.getOpenDocumentPaths\")\r\n        .then(filePaths => {\r\n            this._isDepleted = true;\r\n            this._emitFiles(filePaths.split(','));\r\n            this.emit(\"depleted\", this._id);\r\n        });\r\n    }\r\n    _sourceBlank()\r\n    {\r\n        this._isDepleted = true;\r\n        this._emitFiles([\"\"]);\r\n        this.emit(\"depleted\", this._id);\r\n    }\r\n    _sourceActiveDocument()\r\n    {\r\n        host.runActionWithParameters(\"action.getActiveDocumentPath\")\r\n        .then(filePath => {\r\n            this._isDepleted = true;\r\n            this._emitFiles(filePath ? [filePath] : []);\r\n            this.emit(\"depleted\", this._id);\r\n        });\r\n    }\r\n}\r\n/**\r\n * Create an ImageFileProducer instance with a file watcher as its source\r\n * @param {string} directory directory which will be watched for new files\r\n * @param {string[]} extensions an array of valid extensions to read (e.g. \"psd\", \"jpg\", etc)\r\n */\r\nImageFileProducer.withFileWatcher = function(directory, extensions) \r\n{\r\n    return new ImageFileProducer(\r\n        new ImageSource(ImageSourceType.FILEWATCHER, new ImageSourcePath(directory, extensions))\r\n    );\r\n};\r\n/**\r\n * Create an ImageFileProducer instance with a directory as its source\r\n * @param {string} directory directory which will be watched for new files\r\n * @param {string[]} extensions an array of valid extensions to read (e.g. \"psd\", \"jpg\", etc)\r\n */\r\nImageFileProducer.withDirectory = function(directory, extensions) \r\n{\r\n    // TODO: Allow use of Directory AS the Source, instead of reading its files. Which means the Producer can produce directory paths, instead of just files\r\n    return new ImageFileProducer(\r\n        new ImageSource(ImageSourceType.DIRECTORY, new ImageSourcePath(directory, extensions))\r\n    );\r\n};\r\n/**\r\n * Create an ImageFileProducer instance with files open in Adobe as the source\r\n */\r\nImageFileProducer.withOpenFiles = function() \r\n{\r\n    return new ImageFileProducer(\r\n        new ImageSource(ImageSourceType.OPENFILES, null)\r\n    );\r\n};\r\n/**\r\n * Create an ImageFileProducer which emits a single empty string for a file path\r\n */\r\nImageFileProducer.withBlank = function() \r\n{\r\n    return new ImageFileProducer( \r\n        new ImageSource(ImageSourceType.BLANK, null)\r\n    );\r\n};\r\n/**\r\n * Create an ImageFileProducer instance with the current active file in Adobe as the source\r\n */\r\nImageFileProducer.withActiveDocument = function() \r\n{\r\n    return new ImageFileProducer(\r\n        new ImageSource(ImageSourceType.ACTIVEDOCUMENT, null)\r\n    );\r\n};","import EventEmitter from \"events\";\r\nimport _ from '../utils';\r\nimport store from '../store';\r\nimport host from '../host';\r\nimport Image from './image';\r\nimport ImageFileMover from './imageFileMover';\r\nimport ImageFileReader from './imageFileReader';\r\nimport ImageFileProducer from './imageFileProducer';\r\nimport ImageSourceType from './imageSourceType';\r\nimport PipelineEngineState from './pipelineEngineState';\r\n\r\nexport class PipelineEngine extends EventEmitter\r\n{\r\n    constructor() \r\n    {\r\n        super();\r\n        this._processingMutex = false; \r\n        this._state = PipelineEngineState.STOPPED;\r\n\r\n        /**\r\n         * Produder Id => [Pipeline Names...]\r\n         */\r\n        this._producerIdToPipelines = new Map();\r\n        /**\r\n         * Producer Id => ImageFileProducer instance\r\n         */\r\n        this._producerIdToProducer = new Map();\r\n        this._producerIdsWhichDepleted = [];\r\n\r\n        /**\r\n         * With objects of form \r\n         * {\r\n         *      producerId: id of the ImageFileProducer which emitted the file path\r\n         *      file: the path of the file\r\n         * }\r\n         */\r\n        this._imageFileQ = [];\r\n        this._imageFileReader = new ImageFileReader();\r\n        this._imageFileMover = new ImageFileMover();\r\n    }\r\n    /**\r\n     * @returns {Promise}\r\n     */\r\n    init() \r\n    {\r\n        return Promise.resolve();\r\n    }\r\n    destroy()\r\n    {\r\n        // stop any processing\r\n        // destroy all producers\r\n        this._destroyAllProducers();\r\n        this.state = PipelineEngineState.STOPPED;\r\n    }\r\n    _destroyDepletedProducers()\r\n    {\r\n        this._destroyProducers(this._producerIdsWhichDepleted);\r\n        this._producerIdsWhichDepleted = [];\r\n    }\r\n    _destroyAllProducers()\r\n    {\r\n        const producerIds = [...this._producerIdToProducer.keys()];\r\n        this._destroyProducers(producerIds);\r\n    }\r\n    _destroyProducers(producerIds)\r\n    {\r\n        producerIds = producerIds.filter(id => this._producerIdToProducer.has(id));\r\n        for(const producerId of producerIds) \r\n        {\r\n            this._producerIdToProducer.get(producerId).destroy();\r\n            this._producerIdToProducer.delete(producerId);\r\n            this._producerIdToPipelines.delete(producerId);\r\n\r\n            console.log(`Image File Producer ${producerId} destroyed.`);\r\n        }\r\n    }\r\n    _addFileProducer(producer, pipelineNames) \r\n    {\r\n        this._producerIdToPipelines.set(producer.id, pipelineNames);\r\n        this._producerIdToProducer.set(producer.id, producer);\r\n\r\n        producer.on(\"files\", this._onProducerFile.bind(this));\r\n        producer.on(\"depleted\", this._onProducerDepleted.bind(this));\r\n        producer.produce();\r\n\r\n        console.log(`Image File Producer ${producer.id} added.`);\r\n    }\r\n    /**\r\n     * Run the given pipeline with files from the given source\r\n     * @param {string} pipelineName pipeline name\r\n     * @param {ImageSourceType} sourceType FILEWATCHER, DIRECTORY, or OPENFILES\r\n     * @param {string} sourcePath if sourceType is DIRECTORY\r\n     * @param {string} sourceExtensions if sourceType is DIRECTORY\r\n     */\r\n    run(pipelineName, sourceType, sourcePath, sourceExtensions)\r\n    {\r\n        this._run([pipelineName], sourceType, sourcePath, sourceExtensions);\r\n    }\r\n    /**\r\n     * Run all pipelines with files from the given source\r\n     * @param {ImageSourceType} sourceType FILEWATCHER, DIRECTORY, OPENFILES, or BLANK\r\n     * @param {string} sourcePath if sourceType is DIRECTORY\r\n     * @param {string} sourceExtensions if sourceType is DIRECTORY\r\n     */\r\n    runAll(sourceType, sourcePath, sourceExtensions)\r\n    {\r\n        this._run(\r\n            store.pipelines.pipelines.map(p => p.name), \r\n            sourceType, \r\n            sourcePath, \r\n            sourceExtensions\r\n        );\r\n    }\r\n    _run(pipelineNames, sourceType, sourcePath, sourceExtensions) \r\n    {\r\n        if(!this.isStopped()) {\r\n            console.log(\"Pipeline engine is already running.\");\r\n            return;\r\n        }\r\n        console.log(`Running pipelines: \"${pipelineNames.join(\",\")}\" with source: ${ImageSourceType.toKey(sourceType)}`);\r\n\r\n        this.state = PipelineEngineState.IDLE;\r\n        switch(sourceType)\r\n        {\r\n            case ImageSourceType.FILEWATCHER: \r\n                this._runWithFileWatchers(pipelineNames); break;\r\n            case ImageSourceType.DIRECTORY: \r\n                this._runWithDirectory(pipelineNames, sourcePath, sourceExtensions); break;\r\n            case ImageSourceType.OPENFILES: \r\n                this._runWithOpenFiles(pipelineNames); break;\r\n            case ImageSourceType.BLANK:\r\n                this._runWithBlank(pipelineNames); break;\r\n            case ImageSourceType.ACTIVEDOCUMENT: \r\n                this._runWithActiveDocument(pipelineNames); break;\r\n            default: \r\n                console.log(`ImageSourceType ${sourceType} not recognized.`);\r\n                this.state = PipelineEngineState.STOPPED;\r\n        }\r\n    }\r\n    _runWithFileWatchers(pipelineNames)\r\n    {\r\n        // Get all unique file watchers for given pipelines\r\n        let watcherNames = pipelineNames.reduce((arr, name) => {\r\n            const pipeline = this._getConfigurationByPipelineName(name);\r\n            return arr.concat(pipeline.watcherNames);\r\n        }, []);\r\n        watcherNames = _.unique(watcherNames); \r\n\r\n        // IMPORTANT: We Do Not want multiple producers for the same files\r\n        // Which would happen if we looped by each pipeline and created its producers\r\n        // since there is a many-to-one relationship between pipelines and file watchers\r\n        for(const watcherName of watcherNames) \r\n        {\r\n            const fileWatcher = this._getFileWatcherByName(watcherName);\r\n            if(!fileWatcher) {\r\n                console.warn(`File watcher ${watcherName} not found.`);\r\n                continue;\r\n            }\r\n            const pipelineNames = this._getConfigurationsByFileWatcherName(watcherName).map(p => p.name);\r\n            const producer = ImageFileProducer.withFileWatcher(\r\n                fileWatcher.path, \r\n                fileWatcher.extensions\r\n            );\r\n            this._addFileProducer(producer, pipelineNames);\r\n        }\r\n    }\r\n    _runWithDirectory(pipelineNames, directory, extensions) \r\n    {\r\n        const producer = ImageFileProducer.withDirectory(directory, extensions);\r\n        this._addFileProducer(producer, pipelineNames);\r\n    }\r\n    _runWithOpenFiles(pipelineNames) \r\n    {\r\n        const producer = ImageFileProducer.withOpenFiles();\r\n        this._addFileProducer(producer, pipelineNames);\r\n    }\r\n    _runWithBlank(pipelineNames) \r\n    {\r\n        const producer = ImageFileProducer.withBlank();\r\n        this._addFileProducer(producer, pipelineNames);\r\n    }\r\n    _runWithActiveDocument(pipelineNames) \r\n    {\r\n        const producer = ImageFileProducer.withActiveDocument();\r\n        this._addFileProducer(producer, pipelineNames);\r\n    }\r\n    pause() {\r\n        if(this.isProcessing()) {\r\n            this.state = PipelineEngineState.PAUSED;\r\n        }\r\n    }\r\n    resume() {\r\n        if(this.isPaused()) {\r\n            this.state = PipelineEngineState.PROCESSING;\r\n        }\r\n    }\r\n    stop() {\r\n        this._destroyAllProducers();\r\n        this.state = PipelineEngineState.STOPPED;\r\n    }\r\n    _stopIfNoProducers()\r\n    {\r\n        if(this._producerIdToProducer.size === 0) {\r\n            this.state = PipelineEngineState.STOPPED;\r\n        }\r\n    }\r\n\r\n\r\n    _getFileWatcherByName(watcherName)\r\n    {\r\n        return store.general.fileWatchers.find(w => w.name === watcherName);\r\n    }\r\n    _getConfigurationByPipelineName(pipelineName) \r\n    {\r\n        return store.pipelines.pipelines.find(p => p.name === pipelineName);\r\n    }\r\n    _getConfigurationsByProducerId(producerId) \r\n    {\r\n        const pipelineNames = this._producerIdToPipelines.get(producerId);\r\n        return store.pipelines.pipelines.filter(p => pipelineNames.includes(p.name));\r\n    }\r\n    _getConfigurationsByFileWatcherName(watcherName) \r\n    {\r\n        return store.pipelines.pipelines.filter(p => p.watcherNames.includes(watcherName));\r\n    }\r\n    _onProducerFile(producerId, files) \r\n    {\r\n        console.log(\"File produced.\");\r\n        const qFiles = files.map(file => { \r\n            return {\r\n                producerId,\r\n                file\r\n            }\r\n        });\r\n        this._imageFileQ = this._imageFileQ.concat(qFiles);\r\n        this._process();\r\n    }\r\n    _onProducerDepleted(producerId) \r\n    {\r\n        this._producerIdsWhichDepleted.push(producerId);\r\n    }\r\n    _process()\r\n    {\r\n        if(this._processingMutex) return;\r\n        this._processingMutex = true;\r\n        this.state = PipelineEngineState.PROCESSING;\r\n        console.log(`Pipeline process loop started with ${this._imageFileQ.length} images.`);\r\n \r\n        this._runWaitOneFrame()\r\n        .then(this._runProcessStart.bind(this))\r\n        .then(this._runProcessLoop.bind(this))\r\n        .then(this._runProcessEnd.bind(this))\r\n        .then(() => {\r\n            this.state = PipelineEngineState.IDLE;\r\n            this._destroyDepletedProducers();\r\n            this._stopIfNoProducers();\r\n            this._processingMutex = false;\r\n            console.log(\"Pipeline process loop exited.\");\r\n        });\r\n    }\r\n    _runWaitOneFrame()\r\n    {\r\n        return new Promise(resolve => { setTimeout(resolve, 0); });\r\n    }\r\n    _runProcessStart()\r\n    {\r\n        return host.runJsxWithThrow(`app.displayDialogs = DialogModes.NO;`);\r\n    }\r\n    async _runProcessLoop()\r\n    {\r\n        let qFile;\r\n        while(qFile = this._imageFileQ.pop()) \r\n        {\r\n            const { file, producerId } = qFile;\r\n            console.log(`Reading next file ${file} from producer ${producerId}.`);\r\n\r\n            const image = await this._imageFileReader.read(file, store.general.doReadFileMetadata);\r\n            const pipelines = this._getConfigurationsByProducerId(producerId);\r\n            console.log(`Processing image: ${image.inputImagePath}`);\r\n\r\n            try \r\n            {\r\n                // For each Pipeline configuration\r\n                for(const pipeline of pipelines) \r\n                {\r\n                    if(pipeline.disabled) {\r\n                        console.log(`Skipping disabled pipeline '${pipeline.name}'`);\r\n                        continue;\r\n                    }\r\n\r\n                    await this._runPipelineStart(image, pipeline);\r\n    \r\n                    // For each action function\r\n                    for(const action of pipeline.actions) \r\n                    {\r\n                        this.emit(\"action\", action.actionName);\r\n                        let result = await host.runActionWithParameters(action.actionName, action.parameters);\r\n                        this.emit(\"actionend\", action.actionName);\r\n\r\n                        if(this._stopCheck(result)) break;\r\n                        await this._pauseCheck(result, store.general.pauseAfterEveryAction);\r\n                    }\r\n\r\n                    await this._runPipelineEnd(pipeline);\r\n    \r\n                    if(this._stopCheck()) break;\r\n                    await this._pauseCheck(null, store.general.pauseAfterEveryPipeline);\r\n                }\r\n\r\n                // TODO Use configured processed directory\r\n                this._imageFileMover.move(image, \"./Processed\");\r\n            }\r\n            catch(e)\r\n            {\r\n                console.error(e);\r\n                // TODO Use configured errored directory\r\n                await this._pauseCheck(null, store.general.pauseOnExceptions);\r\n                this._imageFileMover.move(image, \"./Errored\", e.toString());\r\n            }\r\n            finally\r\n            {\r\n                await this._pauseCheck(null, store.general.pauseAfterEveryImage);\r\n                if(this._stopCheck()) break;\r\n            }\r\n        }\r\n    }\r\n    _runProcessEnd()\r\n    {\r\n        return host.runJsxWithThrow(`$.gc();`);\r\n    }\r\n    /**\r\n     * Close all documents. Save Photoshop settings. Instantiate IMAGE instance.\r\n     * @param {Image} image \r\n     * @param {object} pipeline the pipeline configuration object\r\n     * @returns {Promise}\r\n     */\r\n    _runPipelineStart(image, pipeline)\r\n    {\r\n        console.log(`Pipeline '${pipeline.name}' started.`);\r\n        this.emit(\"pipelinestart\", pipeline.name);\r\n        return host.runJsxWithThrow(`\r\n        __PIPELINE = {\r\n            restoreUnits: _.saveUnits()\r\n        };\r\n        IMAGE = new ImageForProcessing(${JSON.stringify(image)});`);\r\n    }\r\n    /**\r\n     * Restore Photoshop settings. Clear IMAGE Instance.\r\n     * @param {object} pipeline the pipeline configuration object \r\n     * @returns {Promise}\r\n     */\r\n    _runPipelineEnd(pipeline)\r\n    {\r\n        console.log(`Pipeline '${pipeline.name}' ended.`);\r\n        this.emit(\"pipelineend\", pipeline.name);\r\n        return host.runJsxWithThrow(`\r\n        __PIPELINE.restoreUnits && __PIPELINE.restoreUnits(); \r\n        IMAGE=null;\r\n        `);\r\n    }\r\n    _stopCheck(actionResult) \r\n    {\r\n        if(this.isStopped() || actionResult === \"STOP\") {\r\n            this.state = PipelineEngineState.STOPPED;\r\n            return true;\r\n        }\r\n        if(actionResult === \"EXIT\") {\r\n            this.state = PipelineEngineState.IDLE;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    _pauseCheck(actionResult, forcePause) \r\n    {\r\n        if(this.isPaused() || forcePause || actionResult === \"PAUSE\") \r\n        {\r\n            console.log(\"Pipeline Engine waiting on pause...\");\r\n            this.state = PipelineEngineState.PAUSED;\r\n\r\n            return new Promise(resolve => {\r\n                this.once(\"state\", state => {\r\n                    if(state != PipelineEngineState.PAUSED) {\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        } else {\r\n            return Promise.resolve();\r\n        }\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(value) {\r\n        this._state = value;\r\n        this.emit(\"state\", value);\r\n    }\r\n    isIdle() { return this.state === PipelineEngineState.IDLE; }\r\n    isStopped() { return this.state === PipelineEngineState.STOPPED; }\r\n    isPaused() { return this.state === PipelineEngineState.PAUSED; }\r\n    isProcessing() { return this.state === PipelineEngineState.PROCESSING; }\r\n}","import upath from 'upath';\r\nimport fs from 'fs';\r\nimport jsdocx from 'jsdocx';\r\nimport EventEmitter from \"events\";\r\n\r\nimport store from '../store';\r\nimport host from '../host';\r\nimport global from '../global';\r\n\r\n/**\r\n * Describes a JSX Actions signature in full, including parameters\r\n */\r\nexport class ActionDescriptor\r\n{\r\n    constructor()\r\n    {\r\n        this.name = \"\";\r\n        this.path = \"\";\r\n        this.params = [];\r\n    }\r\n    /**\r\n     * @param {JSDocXDescription} jsDocDescription the description object returned by JSDocX\r\n     */\r\n    static fromJSDocDescription(jsDocDescription)\r\n    {\r\n        // TODO Make this function another class?\r\n        const description = jsDocDescription.filter(x => x.$kind === \"method\");\r\n        const descriptor = new ActionDescriptor();\r\n              descriptor.name = description.$longname;\r\n              descriptor.params = description.params; // TODO convert to ActionParameter\r\n              descriptor.path = description.meta.path;\r\n        return descriptor;\r\n    }\r\n}\r\n/**\r\n * Describes an (Input) parameter to a JSX Action function\r\n */\r\nexport class ActionParameter \r\n{\r\n    constructor() \r\n    {\r\n        this.description = \"\";\r\n        this.name = \"\";\r\n        this.typeNames = [];\r\n        this.isRequired = false;\r\n        this.defaultValue = null;\r\n    }\r\n}\r\n\r\nclass ActionParameterCurator\r\n{\r\n    constructor(hostInterface)\r\n    {\r\n        this.host = hostInterface;\r\n        this.typeNameToDataCache = {};\r\n    }\r\n    typeNameToControlInputType(typeName)\r\n    {\r\n        // call jsx functions to get type information\r\n        // this.host.runJsx('...');\r\n    }\r\n}\r\n\r\n/**\r\n * Handles reading JSX action files and their JSDoc descriptions\r\n */\r\nclass ActionFileDescriptionReader \r\n{\r\n    constructor(rootPathToActions, defaultNamespace)\r\n    {\r\n        this._rootPathToActions = rootPathToActions;\r\n        this._defaultNamespace = defaultNamespace;\r\n        this._actionToJSDocDescriptionCache = {};\r\n    }\r\n\r\n    /**\r\n     * Reads the appropriate JSX action file and converts JSDoc to instance of ActionDescriptor\r\n     * @param {string} actionName \r\n     * @returns {ActionDescriptor}\r\n     */\r\n    getActionDescriptor(actionName)\r\n    {\r\n        const jsDocDescription = this._readJSDocDescription(actionName);\r\n        const actionDescriptor = ActionDescriptor.fromJSDocDescription(jsDocDescription);\r\n        return actionDescriptor;\r\n    }\r\n    /**\r\n     * Returns the JSDocX object describing the particulars of the given action\r\n     * @param {string} actionName the action name e.g. action.saveDocument\r\n     * @returns {JSDocXDescription}\r\n     */\r\n    _readJSDocDescription(actionName)\r\n    {\r\n        if(this._actionToJSDocDescriptionCache[actionName]) {\r\n            return this._actionToJSDocDescriptionCache[actionName];\r\n        }\r\n\r\n        const path = this._getPathFromActionName(actionName);\r\n        return jsdocx.parse(path)\r\n            .then(description => {\r\n                this._actionToJSDocDescriptionCache[actionName] = description;\r\n                return description;\r\n            });\r\n    }\r\n    // TODO Move to its own class? (e.g.  ActionFileNameTranslator)\r\n    _getFileNameFromActionName(actionName) \r\n    {\r\n        if(actionName.startsWith(this._defaultNamespace + '.'))\r\n            return actionName.split('.').slice(1).join('.') + \".jsx\";\r\n        else \r\n            return actionName + \".jsx\";\r\n    }\r\n    _getPathFromActionName(actionName)\r\n    {\r\n        const actionFileName = this._getFileNameFromActionName(actionName);\r\n        return upath.join(this._rootPathToActions, actionFileName);\r\n    }\r\n}\r\n\r\n/**\r\n * Handles reading JSX action files for import into Adobe host\r\n */\r\nclass ActionFileImportStringBuilder\r\n{\r\n    /**\r\n     * Reads all jsx files in the given directory and builds an import JSX string for execution.\r\n     * Each new directory encountered becomes a nested namespace.\r\n     * @param {string} pathToActions the directory containing the jsx files\r\n     * @param {string} rootNamespace the root action function namespace. All action names with start with this\r\n     * @returns {string} the stringified JSX script to run which will import all actions\r\n     */\r\n    build(pathToActions, rootNamespace)\r\n    {\r\n        return this._buildJsxImportString(pathToActions, rootNamespace); \r\n    }\r\n    // NOTE: importAction() is expected to be defined on Host JSX side\r\n    _buildJsxImportString(pathToActions, rootNamespace)\r\n    {\r\n        let namespacePrefix = `${rootNamespace}.`;\r\n        let namespaceDefine = `${rootNamespace}= (typeof ${rootNamespace} !== \"undefined\") ? ${rootNamespace} : {};`;\r\n\r\n        return fs.readdirSync(pathToActions)\r\n            .reduce((script, name) => \r\n            {\r\n                let nextPath = upath.join(pathToActions, name);\r\n                let nextActionName = namespacePrefix + name.split('.')[0];\r\n                let nextScript;\r\n                if(fs.statSync(nextPath).isDirectory()) {\r\n                    nextScript = this._buildJsxImportString(nextPath, namespacePrefix + name);\r\n                } else {\r\n                    nextScript = `importAction(\"${nextPath}\", \"${nextActionName}\");`;\r\n                }\r\n                return script + nextScript;\r\n            }, \r\n            namespaceDefine);\r\n    }\r\n}\r\n\r\n/**\r\n * Primary interface for loading/reloading jsx action files and their JSDoc descriptions\r\n */\r\nexport class Actions\r\n{\r\n    constructor() \r\n    {\r\n        this._importStringBuilder = new ActionFileImportStringBuilder();\r\n    }\r\n    /**\r\n     * @returns {Promise}\r\n     */\r\n    init() \r\n    {\r\n        return this._importAll();\r\n    }\r\n    destroy() {}\r\n\r\n    /**\r\n     * Import all JSX function action files\r\n     */\r\n    async _importAll()\r\n    {\r\n        console.log(\"Import actions started.\");\r\n\r\n        await this._import(global.appBuiltinActionsPath);\r\n        await this._import(store.general.pathToUserActions);\r\n\r\n        console.log(\"Import actions exited.\");\r\n    }\r\n    _import(importDirectory) \r\n    {\r\n        if(!importDirectory.trim()) {\r\n            return;\r\n        }\r\n        const importString = this._importStringBuilder.build(importDirectory, \"action\") + \"act = action;\";\r\n        console.log(importString);\r\n        return host.runJsx(importString);\r\n    }\r\n\r\n    /**\r\n     * @returns {string[]}\r\n     */\r\n    getAllActionNames() {}\r\n    /**\r\n     * @param {string} actionName\r\n     * @returns {ActionDescriptor}  \r\n     */\r\n    getActionDescriptorByName(actionName) {}\r\n\r\n}\r\n","\r\n/* npm modules */\r\nimport debounce from 'debounce'; \r\nimport express from 'express';\r\nimport EventEmitter from \"events\";\r\n\r\n\r\n/* local modules */\r\nimport { PipelineEngine } from './pipelineEngine';\r\nimport { Actions } from './actions';\r\nimport _ from '../utils';\r\nimport store from '../store';\r\nimport global from '../global';\r\n\r\nconst port = 3001;\r\nconst app = express();\r\n\r\n\r\nexport const ServerState = {\r\n    UNINITIALIZED: 0,\r\n    RUNNING: 1\r\n};\r\n\r\n/**\r\n * Backend systems.\r\n * Manages Node REST API, and JS API for managing pipelines. \r\n * Server is not CEP panel aware\r\n */\r\nclass Server extends EventEmitter\r\n{\r\n    constructor() \r\n    {\r\n        super();\r\n        this._initialized = false;\r\n        this._state = ServerState.UNINITIALIZED;\r\n\r\n        // Express instance\r\n        this._httpServer = null;\r\n        this._pipelineEngine = new PipelineEngine();\r\n        this._actions = new Actions();\r\n    }\r\n    /**\r\n     * @returns {Promise}\r\n     */\r\n    async init() \r\n    {\r\n        if(this._initialized) return;\r\n        this._initialized = true;\r\n\r\n        await this._pipelineEngine.init();\r\n        await this._actions.init();\r\n        //-----------------\r\n        // Express Routes\r\n        //-----------------\r\n        // TODO Replace Express with WebSockets (e.g. sockjs)?\r\n        app.get('/pipeline/:name/configuration', (req, res) => {\r\n            res.header(\"Content-Type\", \"application/json\");\r\n            res.send(\r\n                JSON.stringify(this._pipelineConfig.pipelines.find(p => p.name == req.params.name.toLowerCase()), null, 4)\r\n            );\r\n        });\r\n        app.post('/pipeline/run', (req, res) => {\r\n            res.status(200).json({ success: true });\r\n        });\r\n        app.post('/pipeline/stop', (req, res) => {\r\n            res.status(200).json({ success: true });\r\n        });\r\n        app.get('/status', (req, res) => {\r\n            // search for files matching parameters \r\n            res.status(200).json({\r\n                status: Object.keys(ServerState).find(p => ServerState[p] === this._state),\r\n                needUserInteraction: false\r\n            });\r\n        });\r\n        app.use((req, res, next) => {\r\n            res.status(404).send(\"Sorry, can't find that!\");\r\n        });\r\n        app.use((err, req, res, next) => {\r\n            console.error(err.stack);\r\n            res.status(500).send('Something broke!')\r\n        });\r\n\r\n        //-----------------\r\n        // Create Server\r\n        //-----------------\r\n        this._httpServer = app.listen(port, function() {\r\n            console.log(`Express is listening to http://localhost:${port}`);\r\n        });\r\n\r\n        this.state = ServerState.RUNNING;\r\n        this.emit(\"initialized\");\r\n        console.log(\"Server initialized.\");\r\n    }\r\n    destroy() \r\n    {\r\n        console.log(`Server closing...`);\r\n        this._httpServer && this._httpServer.close(() => {\r\n            this._httpServer = null;\r\n            console.log(`Server closed.`);\r\n        });\r\n        this._pipelineEngine.destroy();\r\n        this._pipelineEngine = null;\r\n        this._actions.destroy();\r\n        this._actions = null;\r\n    }\r\n    get pipelineEngine() {\r\n        return this._pipelineEngine;\r\n    }\r\n    get actions() {\r\n        return this._actions;\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(value) {\r\n        this._state = value;\r\n        this.emit(\"state\", value);\r\n    }\r\n    \r\n}\r\n\r\nexport default new Server();","module.exports = require(\"string_decoder\");","import upath from \"upath\";\nimport fs from \"fs\";\nimport { EventEmitter } from \"events\";\nimport global from '../global';\nimport store from '../store';\n\nconst CONSOLE_METHODS = [\"log\", \"warn\", \"error\"];\n\nclass Logger extends EventEmitter\n{\n    constructor()\n    {\n        super();\n        this.initialized = false;\n        this.options = {\n            logDirectory: \"./\",\n            logFileEnabled: false,\n            logFilePersistForDays: 7 // number of files/days to keep\n        };\n        this.originalConsoleMethods = {};\n        this.logWriteStream = null;\n        this.logBuffer = [];\n        this.maxBufferSize = 64;\n    }\n    /**\n     * @returns {Promise}\n     */\n    init() \n    {\n        if(this.initialized)\n            return;\n        this.initialized = true;\n        this.emit(\"initializing\");\n\n        this.options = {\n            logDirectory: store.general.logDirectory || global.appDefaultLogPath, \n            logFileEnabled: true\n        };\n        this._cleanupFiles();\n        this._createFileStream();\n\n        // Override default console logging methods\n        CONSOLE_METHODS.forEach(function(method)\n        {\n            const self = this;\n            const originalMethod = console[method].bind(console);\n            this.originalConsoleMethods[method] = originalMethod;\n\n            console[method] = function() {\n                const args = Array.prototype.slice.call(arguments);\n                originalMethod.apply(\n                    console,\n                    args\n                );\n                self._write(method, args);\n            };\n        }.bind(this));\n\n        this.emit(\"initialized\");\n        console.log(\"Logger initialized\");\n        return Promise.resolve();\n    }\n    _write(method, args)\n    {\n        // write to read buffer\n        const chunk = [new Date().toLocaleTimeString(), `[${method.toUpperCase()}]\\t`, ...args, `\\n`].join(\" \");\n        const htmlChunk = [`<div class=\"${method}\">${new Date().toLocaleTimeString()}`, ...args, `</div>`].join(\" \");\n        this.logWriteStream && this.logWriteStream.write(chunk);\n        this.logBuffer.push(htmlChunk);\n\n        this.emit(\"logs\");\n    }\n    _createFileStream()\n    {\n        if(!this.options.logFileEnabled) {\n            return;\n        }\n        const yyyymmdd = new Date().toISOString().slice(0,10);\n        const logPath = upath.join(this.options.logDirectory, yyyymmdd + \".logs\");\n        this.logWriteStream = fs.createWriteStream(logPath, {\n            flags: \"a\",\n            encoding: \"utf8\"\n        });\n    }\n    _closeFileStream()\n    {\n        this.logWriteStream && this.logWriteStream.end();\n        this.logWriteStream = null;\n    }\n    /**\n     * Erase old log files \n     */\n    _cleanupFiles()\n    {\n        const paths = fs.readdirSync(this.options.logDirectory);\n        const logFilenames = paths.filter(name => name.endsWith(\".logs\"));\n              logFilenames.sort(); // sort by date\n        const logPaths = logFilenames.map(name => upath.join(this.options.logDirectory, name));\n        const howManyToDelete = Math.max(logPaths.length - this.options.logFilePersistForDays, 0);\n        for(let i = 0; i < howManyToDelete; ++i) \n        {\n            fs.unlink(logPaths[i], err => {\n                if(err) console.error(\"Could not delete log file. \", err);\n            });\n        }\n    }\n    /**\n     * Clear the buffered logs\n     */\n    clear() \n    {\n        this.logBuffer = [];\n    }\n    /**\n     * Read all buffered logs formatted with html\n     * @returns {string}\n     */\n    read()\n    {\n        return this.logBuffer.reduce((acc, val) => `${acc}${val}`, ``);\n    }\n    /**\n     * Should be called to release internal resources\n     */\n    destroy() \n    {\n        console.log(\"Logger destroyed.\");\n\n        if(!this.initialized) \n            return;\n        this.initialized = false;\n\n        this._closeFileStream();\n        // Restore console methods\n        CONSOLE_METHODS.forEach(method => {\n            console[method] = this.originalConsoleMethods[method];\n        })\n        logger = null;\n    }\n}\n\nlet logger = new Logger();\nexport default logger;","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-dialog-root.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-dialog-root.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=style&index=0&id=55ac743d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=style&index=0&id=55ac743d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"topcoat-checkbox\"},[_c('input',{attrs:{\"type\":\"checkbox\",\"name\":_vm.name},domProps:{\"value\":_vm.value,\"checked\":_vm.localChecked},on:{\"change\":_vm.onCheckbox}}),_c('div',{staticClass:\"topcoat-checkbox__checkmark\"}),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <label class=\"topcoat-checkbox\">\n        <input type=\"checkbox\" :name=\"name\" :value=\"value\" :checked=\"localChecked\" @change=\"onCheckbox\">\n        <div class=\"topcoat-checkbox__checkmark\"></div>\n        <slot/>\n    </label>\n</template>\n\n<script>\nexport default {\n    name: \"ACheckbox\",\n    model: {\n        prop: \"checked\",\n        event: \"change\"\n    },\n    props: {\n        checked: null,\n        value: String,\n        name: String\n    }, \n    computed: {\n        localChecked() {\n            return !!this.checked;\n        }\n    },\n    methods: {\n        onCheckbox(event) {\n            this.$emit(\"change\", event.target.checked, event.target.name);\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-checkbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./a-checkbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./a-checkbox.vue?vue&type=template&id=c98e07b8&scoped=true&\"\nimport script from \"./a-checkbox.vue?vue&type=script&lang=js&\"\nexport * from \"./a-checkbox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c98e07b8\",\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"querystring\");","module.exports = require(\"events\");"],"sourceRoot":""}