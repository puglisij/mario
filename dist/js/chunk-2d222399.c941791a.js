(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d222399"],{ce67:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("validation-observer",{ref:"observer",attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("form",{staticClass:"configurator",attrs:{novalidate:"true"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},submit:function(t){return t.preventDefault(),n(e.onConfigurationSubmit)}}},[a("h2",{staticClass:"tab-title"},[e._v("Configuration"),a("i",{directives:[{name:"show",rawName:"v-show",value:e.needSaved,expression:"needSaved"}]},[e._v("*")])]),a("section",{staticClass:"section-content"},[a("label",[a("div",{staticClass:"label"},[e._v("Custom Actions Folder")]),a("validation-provider",{staticClass:"flex",attrs:{tag:"div",rules:"pathunc:false|pathexists"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a-folder-dialog-button",{attrs:{folder:e.pathToUserActions},on:{"update:folder":[function(t){e.pathToUserActions=t},e.onPathToUserActions]}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pathToUserActions,expression:"pathToUserActions"}],staticClass:"topcoat-text-input flex-grow ml1",attrs:{type:"text",placeholder:"/my/custom/jsx/actions",title:"The path to the directory containing custom extendscript actions"},domProps:{value:e.pathToUserActions},on:{change:e.onPathToUserActions,input:function(t){t.target.composing||(e.pathToUserActions=t.target.value)}}}),t.errors.length?a("span",{staticClass:"topcoat-notification error"},[e._v(e._s(t.errors[0]))]):e._e()]}}],null,!0)})],1),a("div",{staticClass:"configurator-buttons"},[a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isLoadingActions,expression:"!isLoadingActions"}],staticClass:"topcoat-button--large",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.onReloadActions(t)}}},[e._v("Reload Actions")]),a("wait-dots",{directives:[{name:"show",rawName:"v-show",value:e.isLoadingActions,expression:"isLoadingActions"}]})],1)]),a("h3",{staticClass:"section-title"},[e._v("File Watchers")]),a("section",{staticClass:"section-content"},e._l(e.fileWatchers,function(t,n){return a("a-watcher",{key:t.id,attrs:{watchers:e.fileWatchers},on:{changed:e.onWatcherChange,delete:e.onDeleteWatcher},model:{value:e.fileWatchers[n],callback:function(t){e.$set(e.fileWatchers,n,t)},expression:"fileWatchers[index]"}})}),1),a("div",{staticClass:"configurator-buttons"},[a("button",{staticClass:"topcoat-button--large",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.onAddNewWatcher(t)}}},[e._v("Add File Watcher")]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.needSaved,expression:"needSaved"}],ref:"save",staticClass:"topcoat-button--large",attrs:{type:"submit"}},[e._v("Save")])])])]}}])})},o=[],s=(a("96cf"),a("3b8d")),r=a("7bb1"),i=a("025e"),c=a("4360"),l=a("5dad"),u=a("e70e"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"watcher"},[a("label",[a("div",{staticClass:"label"},[e._v("Name")]),a("validation-provider",{attrs:{rules:{required:!0,custom:{fn:e.validateName}}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.localWatcher.name,expression:"localWatcher.name"}],staticClass:"topcoat-text-input full-width",attrs:{type:"text",placeholder:"My Watcher Name",title:"This is referenced by Pipelines"},domProps:{value:e.localWatcher.name},on:{input:function(t){t.target.composing||e.$set(e.localWatcher,"name",t.target.value)}}}),n.length?a("span",{staticClass:"topcoat-notification error"},[e._v(e._s(n[0]))]):e._e()]}}])})],1),a("validation-provider",{attrs:{slim:"",rules:"required|pathunc:false|pathexists"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("a-folder-input",{attrs:{title:"The path to the folder to watch for new json files, or images for processing.",errors:n},model:{value:e.localWatcher.path,callback:function(t){e.$set(e.localWatcher,"path",t)},expression:"localWatcher.path"}},[e._v("\n            Watch this Folder\n        ")])]}}])}),a("a-checkbox",{model:{value:e.localWatcher.useProcessedPath,callback:function(t){e.$set(e.localWatcher,"useProcessedPath",t)},expression:"localWatcher.useProcessedPath"}},[e._v("\n        Use Processed Folder?\n    ")]),e.localWatcher.useProcessedPath?a("validation-provider",{attrs:{slim:"",rules:{required:e.localWatcher.useProcessedPath,pathunc:{allowed:!1},pathexists:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("a-folder-input",{attrs:{title:"Files in the watch folder will be moved here after pipeline(s) have run.",errors:n},model:{value:e.localWatcher.processedPath,callback:function(t){e.$set(e.localWatcher,"processedPath",t)},expression:"localWatcher.processedPath"}},[e._v("\n            Move processed files to this Folder\n        ")])]}}],null,!1,938989655)}):e._e(),a("validation-provider",{attrs:{slim:"",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("a-extensions-input",{attrs:{title:"Either multiple image extensions, or json (exclusive). A comma delimited list.",errors:n},model:{value:e.localWatcher.extensions,callback:function(t){e.$set(e.localWatcher,"extensions",t)},expression:"localWatcher.extensions"}},[e._v("   \n            Watch these Extensions\n        ")])]}}])}),a("button",{staticClass:"topcoat-button--large--quiet",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.onDelete(t)}}},[e._v("X")])],1)},d=[],p=(a("7f7f"),a("002f")),f=a("11b3"),v={name:"AWatcher",components:{ValidationProvider:r["b"],AFolderInput:p["a"],AExtensionsInput:f["a"],ACheckbox:u["a"]},model:{prop:"watcher",event:"changed"},props:{watchers:{type:Array,required:!0},watcher:{type:Object,required:!0}},data:function(){return{localWatcher:i["a"].simpleDeepClone(this.watcher)}},watch:{localWatcher:{deep:!0,handler:function(e){this.$emit("changed",e)}}},methods:{validateName:function(e){var t=e.trim();this.localWatcher.name=t;var a=this.watchers.filter(function(e){return e.name==t}).length;return{valid:1===a,message:"Name must be unique"}},onDelete:function(e){this.$emit("delete",this.localWatcher.id)}}},m=v,g=a("2877"),b=Object(g["a"])(m,h,d,!1,null,null,null),W=b.exports,w=a("844c"),x=a("af82"),A={name:"TheConfigurator",components:{ValidationObserver:r["a"],ValidationProvider:r["b"],AFolderDialogButton:l["a"],ACheckbox:u["a"],AWatcher:W,WaitDots:w["a"]},data:function(){return{needSaved:!1,isLoadingActions:!1,pathToUserActions:c["a"].general.pathToUserActions,fileWatchers:i["a"].simpleDeepClone(c["a"].general.fileWatchers)}},methods:{markForSave:function(e){this.needSaved=!0},onReloadActions:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingActions=!0,e.next=3,x["a"].actions.init();case 3:this.isLoadingActions=!1;case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onPathToUserActions:function(e){this.markForSave()},onWatcherChange:function(e){this.markForSave()},onAddNewWatcher:function(e){var t={id:i["a"].guid(),name:"",path:"",useProcessedPath:!0,processedPath:"",extensions:[]};this.fileWatchers.push(t)},onDeleteWatcher:function(e){var t=this;this.$dialog.openConfirm({name:"confirm",message:"Delete this file watcher?",onYes:function(){t.fileWatchers=t.fileWatchers.filter(function(t){return t.id!=e}),t.markForSave()}})},onConfigurationSubmit:function(e){c["a"].general.pathToUserActions=this.pathToUserActions,c["a"].general.fileWatchers=this.fileWatchers,this.$emit("changed"),this.needSaved=!1}}},C=A,_=Object(g["a"])(C,n,o,!1,null,null,null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d222399.c941791a.js.map