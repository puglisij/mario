(function(e){function t(t){for(var i,r,s=t[0],c=t[1],l=t[2],p=0,h=[];p<s.length;p++)r=s[p],o[r]&&h.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0d35":function(e,t,n){"use strict";var i=n("cc14"),o=n.n(i);o.a},"14c2":function(e,t){e.exports=require("zlib")},"22fb":function(e,t,n){"use strict";var i=n("d2d5"),o=n.n(i);o.a},2849:function(e,t){e.exports=require("http")},3646:function(e,t){e.exports=require("buffer")},"3c93":function(e,t){e.exports=require("crypto")},"41db":function(e,t){e.exports=require("child_process")},"42cd":function(e,t){e.exports=require("net")},"42e7":function(e,t,n){"use strict";var i=n("94d4"),o=n.n(i);o.a},"4f1a":function(e,t,n){"use strict";var i=n("b2bd"),o=n.n(i);o.a},"50aa":function(e,t,n){"use strict";var i=n("6f6b"),o=n.n(i);o.a},"50d5":function(e,t){e.exports=require("tty")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=n("1dce"),a=n.n(o),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("a-dialog",{attrs:{name:"confirm"}}),n("menus"),n("server")],1)},s=[],c=n("83dc"),l=n.n(c),u=n("9b0f"),p=n.n(u),h=new CSInterface,f=l.a.normalize(h.getSystemPath(SystemPath.EXTENSION)),d=l.a.join(f,"/dist"),g=l.a.join(d,"actions"),m={cs:h,extensionPath:f,hostPath:d,hostActionPath:g},v=(n("c5f6"),n("6b54"),function(){var e=new CSInterface;function t(e){var t=e.panelBackgroundColor.color.red,i=t>128;i?(document.body.classList.remove("dark"),document.body.classList.add("light"),document.getElementById("theme").href="css/topcoat-desktop-light.css"):(document.body.classList.remove("light"),document.body.classList.add("dark"),document.getElementById("theme").href="css/topcoat-desktop-dark.css"),document.body.style.background="#"+n(e.panelBackgroundColor.color)}function n(e){function t(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t}var n="";return e&&(n=t(e.red)+t(e.green)+t(e.blue)),n}function i(n){var i=e.getHostEnvironment().appSkinInfo;t(i)}function o(){var n=e.getHostEnvironment().appSkinInfo;t(n),e.addEventListener(CSInterface.THEME_COLOR_CHANGED_EVENT,i)}return{init:o}}()),b=v,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},x=[],P=(n("4917"),n("3b2b"),n("a481"),n("ac6a"),{name:"adobe-menus",data:function(){return{context:{menu:[{id:"refresh",label:"Refresh panel",enabled:!0,checkable:!1,checked:!1},{label:"---"},{id:"localhost",label:"Launch debug",enabled:!0,checkable:!1,checked:!1}]},flyout:{menu:[{id:"refresh",label:"Refresh panel",enabled:!0,checkable:!1,checked:!1}]}}},computed:{app:function(){return this.$root.$children[0]},contextMenu:function(){return this.context.menu},flyoutMenu:function(){var e="<Menu>";return this.flyout.menu.forEach(function(t){t.id?e+='<MenuItem Id="'.concat(t.id,'" Label="').concat(t.label,'" Enabled="').concat(t.enabled,'" Checked="').concat(t.checked,'" />'):e+='<MenuItem Label="---" />'}),e+="</Menu>"},localhost:function(){var e=window.cep.fs.readFile("".concat(decodeURI(window.__adobe_cep__.getSystemPath("extension")).replace(/file\:\/{1,}/,""),"/.debug")),t=new RegExp('\\<Host\\sName\\=\\"'.concat(JSON.parse(window.__adobe_cep__.getHostEnvironment()).appName,'\\"\\sPort\\=\\"(\\d*)'));return"http://localhost:".concat(e.data.match(t)[1])}},watch:{contextMenu:function(e){this.setContextMenu()},flyoutMenu:function(e){this.setFlyoutMenu()}},mounted:function(){console.log("Menus mounted."),this.init()},methods:{contextMenuClicked:function(e){"refresh"==e?location.reload():"localhost"==e&&(console.log(this.localhost),cep.util.openURLInDefaultBrowser(this.localhost))},flyoutMenuClicked:function(e){var t=e.data.menuId;"refresh"==t&&location.reload()},setContextMenu:function(){window.__adobe_cep__.invokeAsync("setContextMenuByJSON",JSON.stringify(this.context),this.contextMenuClicked)},setFlyoutMenu:function(){window.__adobe_cep__.invokeSync("setPanelFlyoutMenu",this.flyoutMenu),window.__adobe_cep__.addEventListener("com.adobe.csxs.events.flyoutMenuClicked",this.flyoutMenuClicked)},init:function(){this.setContextMenu(),this.setFlyoutMenu(),this.app.menus=this}}}),S=P,k=(n("50aa"),n("2877")),_=Object(k["a"])(S,y,x,!1,null,null,null),C=_.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{style:{color:e.statusColor}},[e._v("Mario")]),n("section",{staticClass:"main-content"},[e.isPipelineActive?n("div",{staticClass:"activity",style:{color:e.statusColor}},[n("span",[n("strong",[e._v("Pipeline:")]),e._v(" "+e._s(e.currentPipeline))]),n("br"),n("span",[n("strong",[e._v("Action:")]),e._v(" "+e._s(e.currentPipelineAction))])]):e._e(),n("start-stop",{attrs:{isPaused:e.isServerPaused,isStopped:e.isServerStopped},on:{start:e.start,pause:e.pause,stop:e.stop}}),n("checkbox",{attrs:{name:"pauseAfterEveryPipeline"},on:{change:e.onConfigurationCheckbox},model:{value:e.configuration.pauseAfterEveryPipeline,callback:function(t){e.$set(e.configuration,"pauseAfterEveryPipeline",t)},expression:"configuration.pauseAfterEveryPipeline"}},[e._v("\n              Pause after every pipeline\n          ")]),n("checkbox",{attrs:{name:"pauseAfterEveryAction"},on:{change:e.onConfigurationCheckbox},model:{value:e.configuration.pauseAfterEveryAction,callback:function(t){e.$set(e.configuration,"pauseAfterEveryAction",t)},expression:"configuration.pauseAfterEveryAction"}},[e._v("\n              Pause after every action\n          ")]),n("checkbox",{attrs:{name:"pauseAfterEveryImage"},on:{change:e.onConfigurationCheckbox},model:{value:e.configuration.pauseAfterEveryImage,callback:function(t){e.$set(e.configuration,"pauseAfterEveryImage",t)},expression:"configuration.pauseAfterEveryImage"}},[e._v("\n              Pause after each image\n          ")]),n("checkbox",{attrs:{name:"pauseOnExceptions"},on:{change:e.onConfigurationCheckbox},model:{value:e.configuration.pauseOnExceptions,callback:function(t){e.$set(e.configuration,"pauseOnExceptions",t)},expression:"configuration.pauseOnExceptions"}},[e._v("\n              Pause on Exceptions\n          ")])],1),n("div",{staticClass:"topcoat-tab-bar tabs"},e._l(e.tabs,function(t,i){return n("label",{key:t,ref:"tab-"+t.toLowerCase(),refInFor:!0,staticClass:"topcoat-tab-bar__item ",on:{click:function(n){e.currentTab=t}}},[n("input",{attrs:{type:"radio"},domProps:{checked:e.currentTab==t}}),n("button",{staticClass:"topcoat-tab-bar__button"},[e._v(e._s(e.tabNames[i]))])])}),0),n("section",{staticClass:"content"},[n("keep-alive",["the-console"==e.currentTabComponent?n("the-console"):e._e()],1),n("keep-alive",["jsx"==e.currentTabComponent?n("jsx"):e._e()],1),"configurator"==e.currentTabComponent?n("configurator",{attrs:{configuration:e.configuration},on:{"update:watchers":e.onWatchersConfiguration}}):e._e(),"pipelines"==e.currentTabComponent&&e.areConfigurationsLoaded?n("pipelines",{attrs:{configuration:e.pipelineConfiguration},on:{changed:e.onPipelinesConfiguration,runwithdefaults:e.onPipelineRunWithDefaults}}):e._e()],1)])},E=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"topcoat-checkbox"},[n("input",{attrs:{type:"checkbox",name:e.name},domProps:{value:e.value,checked:e.localChecked},on:{change:e.onCheckbox}}),n("div",{staticClass:"topcoat-checkbox__checkmark"}),e._t("default")],2)},j=[],O=(n("7f7f"),{name:"checkbox",model:{prop:"checked",event:"change"},props:{checked:null,value:String,name:String},computed:{localChecked:function(){return!!this.checked}},methods:{onCheckbox:function(e){this.$emit("change",e.target.checked,e.target.name)}}}),D=O,I=(n("22fb"),Object(k["a"])(D,A,j,!1,null,"61fc83ae",null)),N=I.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"controls"},[n("button",{staticClass:"topcoat-button--large",on:{click:e.startPause}},[e._v("\n        "+e._s(e.primaryButtonLabel)+"\n    ")]),n("button",{directives:[{name:"show",rawName:"v-show",value:!e.isStopped,expression:"!isStopped"}],staticClass:"topcoat-button--large",on:{click:e.stop}},[e._v("Stop")])])},L=[],R={name:"start-stop",props:{isPaused:Boolean,isStopped:Boolean},computed:{primaryButtonLabel:function(){return this.isPaused?"Resume":this.isStopped?"Start":"Pause"}},methods:{startPause:function(){this.$emit(this.isPaused||this.isStopped?"start":"pause")},stop:function(){this.$emit("stop")}}},$=R,M=Object(k["a"])($,T,L,!1,null,"3a558380",null),B=M.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"jsx"},[n("h2",[e._v("ExtendScript")]),n("div",{staticClass:"controls scriptlistener"},[n("div",{staticClass:"button"},[n("button",{staticClass:"topcoat-button--large",on:{click:e.toggleScriptListener}},[e._v("\n                Toggle ScriptListener "+e._s(e.isScriptListening?"Off":"On")+"\n            ")])]),n("div",{staticClass:"button"},[n("button",{staticClass:"topcoat-button--large",on:{click:e.clearScriptListener}},[e._v("\n                Clear ScriptListener\n            ")])])]),n("div",{staticClass:"controls identifiers"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.charId,expression:"charId"}],ref:"charId",staticClass:"topcoat-text-input--large",attrs:{type:"text",placeholder:"CharID"},domProps:{value:e.charId},on:{change:e.calculateStringId,focus:function(e){return e.target.select()},input:function(t){t.target.composing||(e.charId=t.target.value)}}})]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.stringId,expression:"stringId"}],ref:"stringId",staticClass:"topcoat-text-input--large",attrs:{type:"text",placeholder:"StringID"},domProps:{value:e.stringId},on:{change:e.calculateCharId,focus:function(e){return e.target.select()},input:function(t){t.target.composing||(e.stringId=t.target.value)}}})])]),n("div",{staticClass:"controls code"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.jsxText,expression:"jsxText"}],staticClass:"topcoat-textarea",attrs:{rows:"14",cols:"45"},domProps:{value:e.jsxText},on:{input:function(t){t.target.composing||(e.jsxText=t.target.value)}}}),n("br"),n("br"),n("button",{directives:[{name:"show",rawName:"v-show",value:e.jsxText.length>0,expression:"jsxText.length > 0"}],staticClass:"topcoat-button--large",on:{click:e.runJsxText}},[e._v("Run")]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.jsxText.length>0,expression:"jsxText.length > 0"}],staticClass:"topcoat-button--large",on:{click:e.clearJsx}},[e._v("Clear")]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.jsxResult.length>0,expression:"jsxResult.length > 0"}],staticClass:"topcoat-button--large",on:{click:e.clearJsxResult}},[e._v("Clear Result")])]),n("div",{staticClass:"result"},[n("span",[e._v("Result: ")]),n("pre",[e._v(e._s(e.jsxResult))])])])},J=[],F=(n("6762"),n("2fdb"),n("b44e")),q=n.n(F),U=n("b012"),z=n.n(U),V="C:/Users/puglisij/Desktop/ScriptingListenerJS.log",X={name:"jsx",computed:{cs:function(){return m.cs}},data:function(){return{charId:"",stringId:"",jsxText:"",jsxResult:"",isScriptListening:!1,scriptWatcher:null}},beforeDestroy:function(){this.destroyScriptListener()},methods:{startScriptListener:function(){this.scriptWatcher=q.a.watch(V),this.scriptWatcher.on("change",z()(this.readScriptListenerLog,1e3))},destroyScriptListener:function(){this.scriptWatcher&&(this.scriptWatcher.removeAllListeners(),this.scriptWatcher.close(),this.scriptWatcher=null)},clearJsxResult:function(){this.jsxResult=""},clearJsx:function(){this.jsxText="",this.jsxResult=""},runJsxText:function(){var e=this;this.cs.evalScript(""+this.jsxText,function(t){e.jsxResult=t.trim(),console.log("JSX Result: ".concat(t))})},clearScriptListener:function(){p.a.writeFile(V,"",function(e){if(e)throw e})},toggleScriptListener:function(){this.isScriptListening?this.isScriptListening=!1:this.isScriptListening=!0,this.cs.evalScript("\n            var listenerID = stringIDToTypeID(\"AdobeScriptListener ScriptListener\");\n            var keyLogID = charIDToTypeID('Log ');\n            var d = new ActionDescriptor;\n            d.putBoolean(keyLogID, ".concat(this.isScriptListening,");\n            executeAction(listenerID, d, DialogModes.NO);\n            ")),this.destroyScriptListener(),this.isScriptListening&&this.startScriptListener()},readScriptListenerLog:function(e){var t=this;console.log("script log changed: "+e),p.a.readFile(e,function(e,n){if(e)throw e;t.jsxText=n.toString()})},calculateStringId:function(){var e=this;this.cs.evalScript("typeIDToStringID(charIDToTypeID('".concat(this.charId,"'))"),function(t){t.includes("error")||(e.stringId="// "+t,e.$nextTick(function(){e.$refs.stringId.focus(),e.$refs.stringId.select()}))})},calculateCharId:function(){var e=this;this.cs.evalScript("typeIDToCharID(stringIDToTypeID('".concat(this.stringId,"'))"),function(t){t.includes("error")||(e.charId=t,e.$nextTick(function(){e.$refs.charId.focus(),e.$refs.charId.select()}))})}}},H=X,Y=(n("8cc4"),Object(k["a"])(H,W,J,!1,null,null,null)),G=Y.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{attrs:{id:"watchers-form",novalidate:"true"},on:{submit:e.onConfigurationSubmit}},[n("h2",[e._v("Watchers")]),e._l(e.configuration.watchers,function(t,i){return n("watcher",{key:t.id,staticClass:"watcher",on:{changed:e.markForSave,delete:function(n){return e.onDeleteWatcher(t.id)}},model:{value:e.configuration.watchers[i],callback:function(t){e.$set(e.configuration.watchers,i,t)},expression:"configuration.watchers[index]"}})}),n("div",{staticClass:"controls"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.needSaved,expression:"needSaved"}],staticClass:"topcoat-button--large",attrs:{type:"submit"}},[e._v("Save")]),n("button",{staticClass:"topcoat-button--large",attrs:{type:"button"},on:{click:e.onAddNewWatcher}},[e._v("Add Watcher")])])],2)},Z=[],K=(n("7514"),n("7618"));n("456d");function ee(e){return JSON.parse(JSON.stringify(e))}function te(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()}function ne(e){return Array.isArray(e)?e[0]:e[Object.keys(e)[0]]}function ie(e,t,n){return void 0===e[t]&&(e[t]=n),e[t]}function oe(e){return"boolean"===typeof e}function ae(e){return"number"===typeof e&&e===e}function re(e){return null!==e&&"object"===Object(K["a"])(e)}function se(e){return 0===Object.keys(e||{}).length}function ce(e){return"string"===typeof e}function le(e){return""===e}function ue(e){return Array.isArray(e)}function pe(e){return"undefined"===typeof e}function he(e){return null===e}var fe={simpleDeepClone:ee,guid:te,first:ne,getOrDefine:ie,isBoolean:oe,isNumber:ae,isObject:re,isEmptyObject:se,isString:ce,isEmptyString:le,isArray:ue,isUndefined:pe,isNull:he},de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"watcher"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.localWatcher.path,expression:"localWatcher.path"}],staticClass:"topcoat-text-input",attrs:{type:"text",placeholder:"/my/watch/folder",title:"The path to the folder to watch for new json, or image types for processing, given below."},domProps:{value:e.localWatcher.path},on:{change:e.emitChange,input:function(t){t.target.composing||e.$set(e.localWatcher,"path",t.target.value)}}})]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.localWatcher.extensions,expression:"localWatcher.extensions"}],staticClass:"topcoat-text-input",attrs:{type:"text",placeholder:"jpg, jpeg, png, psd, tif, etc.",title:"Either multiple image extensions, or json (exclusive)."},domProps:{value:e.localWatcher.extensions},on:{change:e.onExtensions,input:function(t){t.target.composing||e.$set(e.localWatcher,"extensions",t.target.value)}}})]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.localWatcher.defaultType,expression:"localWatcher.defaultType"}],staticClass:"topcoat-text-input",attrs:{type:"text",placeholder:"the default pipeline type (e.g. product)",title:"The default type if no json data is made available for a new image process."},domProps:{value:e.localWatcher.defaultType},on:{change:e.emitChange,input:function(t){t.target.composing||e.$set(e.localWatcher,"defaultType",t.target.value)}}})]),n("button",{staticClass:"watcher-delete topcoat-icon-button--quiet",attrs:{type:"button"},on:{click:e.onDelete}},[e._v("X")])])},ge=[],me=(n("28a5"),{name:"watcher",components:{checkbox:N},model:{prop:"watcher",event:"changed"},props:{watcher:Object},data:function(){return{localWatcher:this.toLocalWatcher(this.watcher)}},methods:{toLocalWatcher:function(e){return fe.simpleDeepClone(e)},emitChange:function(){this.$emit("changed",this.localWatcher)},validateExtensions:function(e){var t=e.split(",");return t=t.map(function(e){return e.replace(/[^a-z0-9]/g,"")}),t=t.filter(function(e){return e&&e.length>0}),t.includes("json")?["json"]:t},hasExtension:function(e){return this.localWatcher.extensions.includes(e)},onExtensions:function(e){var t=e.target.value;this.localWatcher.extensions=this.validateExtensions(t),this.emitChange()},onDelete:function(e){this.$emit("delete")}}}),ve=me,be=(n("0d35"),Object(k["a"])(ve,de,ge,!1,null,"89f65ba8",null)),ye=be.exports,xe={name:"configurator",components:{watcher:ye},props:{configuration:Object},data:function(){return{needSaved:!1}},methods:{markForSave:function(e){this.needSaved=!0},getWatcher:function(e){return this.configuration.watchers.find(function(t){return t.id==e})},onAddNewWatcher:function(e){e.preventDefault();var t={id:fe.guid(),path:"",extensions:""};this.configuration.watchers.push(t),this.markForSave()},onDeleteWatcher:function(e){var t=this;event.preventDefault(),this.$dialog.open({name:"confirm",onYes:function(){var n=t.configuration.watchers.filter(function(t){return t.id!=e});t.configuration.watchers=n,t.markForSave()}})},onConfigurationSubmit:function(e){e.preventDefault(),this.$emit("update:watchers",this.configuration.watchers),this.needSaved=!1}}},Pe=xe,Se=Object(k["a"])(Pe,Q,Z,!1,null,"efc153ec",null),ke=Se.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{attrs:{id:"pipelines-form",novalidate:"true"},on:{submit:e.onConfigurationSubmit}},[n("h2",[e._v("Pipelines")]),n("draggable",{attrs:{group:"pipelines"},on:{change:e.onPipelinePositionChange},model:{value:e.local.pipelines,callback:function(t){e.$set(e.local,"pipelines",t)},expression:"local.pipelines"}},e._l(e.local.pipelines,function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditorOpen||e.isEditorOpen&&e.pipelineBeingEdited.id===t.id,expression:"!isEditorOpen || (isEditorOpen && pipelineBeingEdited.id === pipeline.id)"}],key:t.id,staticClass:"pipeline clearfix"},[n("label",[n("input",{staticClass:"topcoat-text-input",attrs:{type:"text",title:"A name for the pipeline. Only used for reference.",placeholder:"my-pipeline-name"},domProps:{value:t.name},on:{change:function(n){return e.onPipelineName(n,t)}}})]),n("label",[n("input",{staticClass:"topcoat-text-input",attrs:{type:"text",title:"The 'type'(s) of image processes that will flow through this pipeline, as determined by watcher default type or json 'type' property. Case insensitive.",placeholder:"my-type-1, my-type-2"},domProps:{value:t.for},on:{change:function(n){return e.onPipelineFor(n,t)}}})]),n("checkbox",{on:{change:e.onPipeline},model:{value:t.disabled,callback:function(n){e.$set(t,"disabled",n)},expression:"pipeline.disabled"}},[e._v("\n                    Disabled \n                ")]),n("button",{staticClass:"topcoat-icon-button--quiet",attrs:{type:"button"},on:{click:function(n){return e.onToggleEditor(t.id)}}},[e._v(e._s(e.isEditorOpen?"Close":"Open")+" Editor")]),n("button",{staticClass:"pipeline-delete topcoat-icon-button--quiet",attrs:{type:"button",title:"Delete this pipeline"},on:{click:function(n){return e.onDeletePipeline(t.id)}}},[e._v("X")])],1)}),0),e.isEditorOpen?e._e():n("div",{staticClass:"controls"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.needSaved,expression:"needSaved"}],staticClass:"topcoat-button--large",attrs:{type:"submit"},on:{click:e.onSave}},[e._v("Save")]),n("button",{staticClass:"topcoat-button--large",attrs:{type:"button"},on:{click:e.onAddNewPipeline}},[e._v("Add Pipline")])])],1),e.isEditorOpen?n("div",{staticClass:"pipeline-editor"},[n("h3",{staticClass:"pipeline-editor-header"},[e._v("Editing: "+e._s(e.pipelineBeingEdited.name))]),n("div",{staticClass:"pipeline-editor-board"},[n("draggable",{attrs:{draggable:".action",handle:".action-handle",group:"actions"},on:{change:e.onActionPositionChange},model:{value:e.pipelineBeingEdited.externalActions,callback:function(t){e.$set(e.pipelineBeingEdited,"externalActions",t)},expression:"pipelineBeingEdited.externalActions"}},e._l(e.pipelineBeingEdited.externalActions,function(t,i){return n("pipeline-action",{key:t.id,on:{"select-new":function(t){return e.onActionSelectNew(i)},changed:function(t){return e.onActionChange(i,t)},delete:function(t){return e.onActionDelete(i)}},model:{value:e.pipelineBeingEdited.externalActions[i],callback:function(t){e.$set(e.pipelineBeingEdited.externalActions,i,t)},expression:"pipelineBeingEdited.externalActions[index]"}})}),1)],1),n("div",{staticClass:"controls"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.needSaved,expression:"needSaved"}],staticClass:"topcoat-button--large",attrs:{type:"submit"},on:{click:e.onSave}},[e._v("Save")]),n("button",{staticClass:"topcoat-button--large",attrs:{type:"button"},on:{click:e.onActionAdd}},[e._v("Add Action")])]),n("h3",{staticClass:"pipeline-editor-header"},[e._v("Default JSON")]),n("textarea",{staticClass:"pipeline-editor-defaults topcoat-textarea",attrs:{cols:"45"},domProps:{value:e.pipelineBeingEditedDefaults},on:{change:e.onDefaultsChange}}),e.pipelineDefaultsError?n("p",{staticClass:"error"},[e._v(e._s(e.pipelineDefaultsError))]):e._e()]):e._e()])},Ce=[],we=(n("20d6"),n("ac4d"),n("8a81"),n("310e")),Ee=n.n(we),Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"action"},[n("span",{staticClass:"action-handle",attrs:{title:"Drag to re-order"}},[e._v("‚ò∞")]),n("span",{staticClass:"action-expand",class:{show:e.showParameters},attrs:{title:(e.showParameters?"Hide":"Show")+" Parameters"},on:{click:e.toggleParameters}},[n("i",[e._v("üëÅ")])]),n("div",{staticClass:"action-data"},[n("div",{staticClass:"action-name"},[n("input",{staticClass:"topcoat-text-input",attrs:{type:"text",placeholder:"the action string (e.g. 'action.saveDocument')",title:"The action function name as given in the jsx. Case sensitive."},domProps:{value:e.localAction.action},on:{change:e.onActionName}}),n("button",{staticClass:"action-select topcoat-icon-button--quiet",attrs:{type:"button",title:"Select an existing action"},on:{click:e.onActionSelectNew}},[e._v("üñø")]),n("button",{staticClass:"action-delete topcoat-icon-button--quiet",attrs:{type:"button",title:"Delete this action"},on:{click:e.onActionDelete}},[e._v("X")])]),e.showParameters?n("div",{staticClass:"action-parameters"},[n("h3",[e._v("Parameters")]),e._l(e.localAction.parameters,function(t,i){return n("pipeline-action-parameter",{key:i,attrs:{id:i,name:t.name,value:t.value,disableName:e.hasSingleParameter},on:{changed:e.onParameterChanged,delete:e.onParameterDelete}})}),e.hasParameters?e._e():n("button",{staticClass:"topcoat-button",attrs:{type:"button",title:"Single parameters are passed as a single parameter, literal value, to the action function."},on:{click:e.onParameterAddSingle}},[e._v("\n                Add Single\n            ")]),e.hasParameters&&e.hasSingleParameter?e._e():n("button",{staticClass:"topcoat-button",attrs:{type:"button",title:"Multiple parameters are passed as an object of key value pairs to the action function."},on:{click:e.onParameterAddMultiple}},[e._v("\n                "+e._s(e.hasParameters?"Add":"Add Multiple")+"\n            ")])],2):e._e()])])},je=[],Oe=n("bd86"),De=n("768b"),Ie=(n("ffc1"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"action-parameter"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.type=t.target.multiple?n:n[0]},e.onType]}},e._l(e.types,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.localName,expression:"localName"}],staticClass:"action-parameter__input topcoat-text-input",attrs:{type:"text",placeholder:"name",disabled:e.disableName},domProps:{value:e.localName},on:{change:e.onName,input:function(t){t.target.composing||(e.localName=t.target.value)}}}),n("checkbox",{directives:[{name:"show",rawName:"v-show",value:e.isBoolean,expression:"isBoolean"}],staticClass:"action-parameter__input",attrs:{name:"check",checked:e.localValue},on:{change:e.onCheckboxValue}}),n("input",{directives:[{name:"show",rawName:"v-show",value:!e.isBoolean,expression:"!isBoolean"}],staticClass:"action-parameter__input topcoat-text-input",attrs:{type:"text",name:"text",placeholder:"value"},domProps:{value:e.localValue},on:{change:e.onTextValue}}),n("button",{staticClass:"topcoat-icon-button--quiet",attrs:{type:"button",title:"Delete this parameter"},on:{click:e.onDelete}},[e._v("X")])],1)}),Ne=[],Te="String",Le="Number",Re="Boolean",$e="Unknown",Me=[Te,Le,Re],Be={name:"pipeline-action-parameter",components:{checkbox:N},data:function(){var e=this.getType(this.value);return console.log("parameter data() type: ".concat(e," rawValue: ").concat(this.value)),{type:e,localValue:e===$e?null:this.value,localName:this.name}},props:{id:{type:String,required:!0},disableName:Boolean,name:String,value:null},computed:{types:function(){return Me},isBoolean:function(){return this.type===Re},isNumber:function(){return this.type===Le},isString:function(){return this.type===Te}},methods:{getType:function(e){return fe.isBoolean(e)?Re:fe.isNumber(e)?Le:(fe.isString(e),Te)},autoType:function(e){return fe.isBoolean(e)||fe.isString(e)&&("true"===e.toLowerCase()||"false"===e.toLowerCase())?(console.log("autoType() Boolean"),{type:Re,value:fe.isString(e)?JSON.parse(e.toLowerCase()):e}):fe.isNumber(e)||""!==e&&null!==e&&!isNaN(e)?(console.log("autoType() Number"),{type:Le,value:Number(e)}):(console.log("autoType() String"),{type:Te,value:fe.isString(e)?e:""+e})},forceType:function(e){return this.isBoolean?Boolean(e):this.isNumber?isNaN(e)?0:Number(e):this.isString?""+e:void 0},emitChange:function(){this.$emit("changed",this.id,this.localName,this.localValue)},onType:function(e){this.localValue=this.forceType(this.localValue),this.emitChange()},onCheckboxValue:function(e){this.localValue=e,this.emitChange()},onTextValue:function(e){this.localValue=this.forceType(e.target.value),this.emitChange()},onName:function(e){this.emitChange()},onDelete:function(e){this.$emit("delete",this.id)}}},We=Be,Je=Object(k["a"])(We,Ie,Ne,!1,null,null,null),Fe=Je.exports,qe="SINGLE",Ue={name:"pipeline-action",components:{pipelineActionParameter:Fe},model:{prop:"action",event:"changed"},props:{action:Object},data:function(){return{localAction:this.toLocalAction(this.action),showParameters:!1}},computed:{hasParameters:function(){return Object.keys(this.localAction.parameters).length},hasSingleParameter:function(){return 1===Object.keys(this.localAction.parameters).length&&fe.first(this.localAction.parameters).name===qe}},methods:{toRawAction:function(e){var t={action:e.action};if(this.hasParameters)if(this.hasSingleParameter)t.parameters=fe.first(e.parameters).value;else{t.parameters={};for(var n=0,i=Object.entries(e.parameters);n<i.length;n++){var o=Object(De["a"])(i[n],2),a=(o[0],o[1]);t.parameters[a.name]=a.value}}return Object.assign({},this.action,t)},toLocalAction:function(e){var t={action:e.action,parameters:{}},n={};fe.isObject(e.parameters)?n=e.parameters:(fe.isBoolean(e.parameters)||fe.isNumber(e.parameters)||fe.isString(e.parameters)||fe.isNull(e.parameters))&&(n=Object(Oe["a"])({},qe,e.parameters));for(var i=0,o=Object.entries(n);i<o.length;i++){var a=Object(De["a"])(o[i],2),r=a[0],s=a[1],c=fe.guid();t.parameters[c]={name:r,value:s}}return t},emitChange:function(){var e=this.toRawAction(this.localAction);this.$emit("changed",e)},onActionName:function(e){this.localAction.action=e.target.value,this.emitChange()},onActionSelectNew:function(e){this.$emit("select-new")},onActionDelete:function(e){this.$emit("delete")},toggleParameters:function(){this.showParameters=!this.showParameters},onParameterAddSingle:function(e){var t=fe.guid();this.$set(this.localAction.parameters,t,{name:qe,value:""}),this.emitChange()},onParameterAddMultiple:function(e){var t=fe.guid();this.$set(this.localAction.parameters,t,{name:"name",value:""}),this.emitChange()},onParameterChanged:function(e,t,n){this.localAction.parameters[e].name=t,this.localAction.parameters[e].value=n,this.emitChange()},onParameterDelete:function(e){this.$delete(this.localAction.parameters,e),this.emitChange()}}},ze=Ue,Ve=(n("83f0"),Object(k["a"])(ze,Ae,je,!1,null,null,null)),Xe=Ve.exports,He={name:"configurator",components:{checkbox:N,draggable:Ee.a,pipelineAction:Xe},props:{configuration:Object},data:function(){return{local:this.toLocalConfiguration(this.configuration),needSaved:!1,pipelineBeingEdited:{},pipelineDefaultsError:""}},computed:{pipelineBeingEditedDefaults:function(){var e=this.pipelineBeingEdited.defaults;return this.pipelineBeingEdited.defaults&&!fe.isEmptyObject(this.pipelineBeingEdited.defaults)||(e={type:this.pipelineBeingEdited.for,image:"",package:""}),this.pipelineDefaultsError="",JSON.stringify(e,null,4)},isEditorOpen:function(){return!fe.isEmptyObject(this.pipelineBeingEdited)}},validations:{},methods:{toLocalConfiguration:function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=e.pipelines[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var r=o.value;r.id||(r.id=fe.guid()),r.externalActions||this.$set(r,"externalActions",[]);var s=!0,c=!1,l=void 0;try{for(var u,p=r.externalActions[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value;h.id||(h.id=fe.guid())}}catch(f){c=!0,l=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}catch(f){n=!0,i=f}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return e},onSave:function(){this.needSaved&&this.$emit("changed",this.local.pipelines),this.needSaved=!1},markDirty:function(){this.needSaved=!0},getPipeline:function(e){return this.local.pipelines.find(function(t){return t.id==e})},validateFor:function(e){var t=e.split(",");return t=t.map(function(e){return e.replace(/[^a-z0-9_]/gi,"")}),t=t.filter(function(e){return e&&e.length>0}),t},onPipeline:function(){this.markDirty()},onPipelineName:function(e,t){t.name=e.target.value,this.markDirty()},onPipelineFor:function(e,t){t.for=this.validateFor(e.target.value),this.markDirty()},onAddNewPipeline:function(){var e=fe.guid();this.local.pipelines.push({id:e,for:"",name:"Pipeline-Name",externalActions:[]}),this.markDirty()},onDeletePipeline:function(e){var t=this;this.$dialog.open({name:"confirm",onYes:function(){t.isEditorOpen&&t.pipelineBeingEdited.id===e&&t.closeEditor();var n=t.local.pipelines.findIndex(function(t){return t.id==e});t.$delete(t.local.pipelines,n)}}),this.markDirty()},onPipelinePositionChange:function(e){this.markDirty()},onDefaultsChange:function(e){try{var t=JSON.parse(e.target.value);t.type=t.type||this.pipelineBeingEdited.type,this.pipelineBeingEdited.defaults=t,this.pipelineDefaultsError="",this.markDirty()}catch(n){this.pipelineDefaultsError=n.toString()}},onRunPipelineWithDefaults:function(e){var t=fe.simpleDeepClone(this.getPipeline(e));this.$emit("runwithdefaults",t)},onToggleEditor:function(e){this.isEditorOpen?this.closeEditor():this.openEditor(e)},openEditor:function(e){var t=this.getPipeline(e);this.pipelineBeingEdited=t},closeEditor:function(){this.pipelineBeingEdited={}},onActionAdd:function(e){this.pipelineBeingEdited.externalActions.push({action:""})},onActionSelectNew:function(e){console.log("Action ".concat(e," select new."))},onActionChange:function(e,t){this.markDirty()},onActionDelete:function(e){var t=this;this.$dialog.open({name:"confirm",onYes:function(){t.pipelineBeingEdited.externalActions.splice(e,1),t.markDirty()}})},onActionPositionChange:function(e){this.markDirty()},onConfigurationSubmit:function(e){e.preventDefault()}}},Ye=He,Ge=(n("4f1a"),Object(k["a"])(Ye,_e,Ce,!1,null,"7f255b8c",null)),Qe=Ge.exports,Ze=(n("96cf"),n("3b8d")),Ke=n("d225"),et=n("b0b4"),tt=n("308d"),nt=n("6bb5"),it=n("4e2b"),ot=n("b97d"),at=n.n(ot),rt=n("0321"),st=n("ff4a"),ct=n.n(st),lt=n("0152"),ut=n.n(lt),pt=function(){function e(){Object(Ke["a"])(this,e),this.imagePath="",this.packagePath="",this.dataPath="",this.type="unknown",this.data={},this.metadata=null}return Object(et["a"])(e,[{key:"hasImagePath",value:function(){return!!this.imagePath}},{key:"hasPackagePath",value:function(){return!!this.packagePath}},{key:"hasDataPath",value:function(){return!!this.dataPath}},{key:"getErrorDirectory",value:function(){return l.a.join(this.getSourceDirectory(),"Error_"+this.type.toLowerCase())}},{key:"getProcessedDirectory",value:function(){return l.a.join(this.getSourceDirectory(),"Processed_"+this.type.toLowerCase())}},{key:"getSourceDirectory",value:function(){return l.a.dirname(this.dataPath||this.imagePath)}},{key:"getAllFilePaths",value:function(e){var t=[];return this.hasImagePath()&&t.push(this.imagePath),this.hasPackagePath()&&t.push(this.packagePath),this.hasDataPath()&&t.push(this.dataPath),t}}],[{key:"Reader",get:function(){var t=function(){function t(n,i){if(Object(Ke["a"])(this,t),this.image=new e,this.image.data=i||{},this.image.type=this.image.data.type||this.image.type,n){n=l.a.normalize(n);var o=l.a.dirname(n),a=l.a.basename(n),r=l.a.extname(n),s=a.split(".")[0];".json"===r?this.image.dataPath=n:(this.image.dataPath=l.a.join(o,s+".json"),this.image.imagePath=n)}}return Object(et["a"])(t,[{key:"readProcessingDataFromJson",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.image.data=t,"string"===typeof t)try{this.image.data=JSON.parse(t)}catch(i){console.error(i+"\nCould not process image.")}return this.image.data.type&&(this.image.type=this.image.data.type),this.image.data.image&&!this.image.hasImagePath()&&(this.image.imagePath=l.a.normalize(this.image.data.image)),this.image.data.package&&(n=this.image.getSourceDirectory(),this.image.packagePath=l.a.join(n,this.image.data.package)),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"readProcessingData",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(n,i){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(rt["promisify"])(p.a.readFile)(t.image.dataPath,{encoding:"utf8"});case 3:o=e.sent,t.readProcessingDataFromJson(o),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.image.dataPath="";case 10:n();case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"readMetadata",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.image.hasImagePath()){e.next=2;break}return e.abrupt("return");case 2:return t=new ut.a.ExiftoolProcess,0,e.abrupt("return",t.open().then(function(e){e}).then(function(){return t.readMetadata(n.image.imagePath,["-File:all"])}).then(function(e){var t=e.data[0];n.image.metadata=t}).finally(function(){t.close()}));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getImage",value:function(){var e=this.image;return this.image=null,e}}]),t}();return t}}]),e}();function ht(e,t,n){for(var i,o=n||{},a=0;o&&(i=e[a]);a++)o=i in o?o[i]:t?o[i]={}:void 0;return o}var ft={set:function(e,t,n){var i=e.split("."),o=i.pop(),a=ht(i,!1,n);if(a&&o)return a[o]=t},get:function(e,t){return ht(e.split("."),!1,t)},exists:function(e,t){return void 0!==this.get(e,!1,t)}},dt=function(){function e(){Object(Ke["a"])(this,e),this.config={},this.configPath=""}return Object(et["a"])(e,[{key:"load",value:function(e){this.configPath=e;var t=p.a.readFileSync(e),n=JSON.parse(t);return this.config=n,n}},{key:"clone",value:function(){return fe.simpleDeepClone(this.config)}},{key:"get",value:function(e){var t=ft.get(e,this.config);return fe.simpleDeepClone(t)}},{key:"set",value:function(e,t){ft.set(e,t,this.config),this.configPath&&this._saveConfiguration()}},{key:"_saveConfiguration",value:function(){var e=JSON.stringify(this.config);p.a.writeFile(this.configPath,e,function(e){e&&console.error("Error saving server configuration.\n"+e)})}}]),e}(),gt=dt,mt={UNINITIALIZED:0,STOPPED:1,PAUSED:2,RUNNING:3},vt=3001,bt=at()(),yt=function(e){function t(e,n){var i;return Object(Ke["a"])(this,t),i=Object(tt["a"])(this,Object(nt["a"])(t).call(this)),i._httpServer=null,i._actionPath=n,i._config={},i._configPath=l.a.join(e,"config.json"),i._configurator=null,i._pipelineConfig={},i._pipelineConfigPath=l.a.join(e,"config-pipeline.json"),i._pipelineConfigurator=null,i._fileWatchers=[],i._pipelinesMap={},i._needToReloadPipelines=!0,i._pipelineQueue=[],i.cs=new CSInterface,i.cs.addEventListener("log",function(e){console.log("Jsx Event: "+e.data)}),i._isPipelinesRunningMutex=!1,i._serverState=mt.UNINITIALIZED,i}return Object(it["a"])(t,e),Object(et["a"])(t,[{key:"_loadConfiguration",value:function(){if(this._configurator=new gt,this._config=this._configurator.load(this._configPath),!this._config.watchers)throw new Error("Server config missing 'watchers'.");console.log("Loaded server config: "),console.dir(this._config)}},{key:"_loadPipelineConfiguration",value:function(){if(this._pipelineConfigurator=new gt,this._pipelineConfig=this._pipelineConfigurator.load(this._pipelineConfigPath),!this._pipelineConfig.pipelines)throw new Error("Server pipeline config missing 'pipelines'.")}},{key:"getConfiguration",value:function(){return this._configurator.clone()}},{key:"getPipelineConfiguration",value:function(){return this._pipelineConfigurator.clone()}},{key:"setConfiguration",value:function(e,t){this._configurator.set(e,t),console.log("Configuration ".concat(e," changed to ").concat(t))}},{key:"setPipelineConfiguration",value:function(e,t){this._pipelineConfigurator.set(e,t),this._needToReloadPipelines=!0,console.log("Pipeline Configuration ".concat(e," changed to ").concat(t))}},{key:"isPaused",value:function(){return this._state===mt.PAUSED}},{key:"isStopped",value:function(){return this._state===mt.STOPPED||this._state===mt.UNINITIALIZED}},{key:"init",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this._loadConfiguration(),this._loadPipelineConfiguration(),t=this.loadActionPaths(this._actionPath,"action"),e.next=5,this.runJsx(t);case 5:console.log("Loaded actions."),bt.get("/pipeline/:type/configuration",function(e,t){t.header("Content-Type","application/json"),t.send(JSON.stringify(n.pipelinesMap[e.params.type.toLowerCase()],null,4))}),bt.get("/activedocument",function(e,t){n.cs.evalScript("_.getDocumentPath()",function(e){t.status(200).send("Active Document: "+e)})}),bt.get("/status",function(e,t){t.status(200).json({status:Object.keys(mt).find(function(e){return mt[e]===n._state}),needUserInteraction:!1})}),bt.post("/process",function(e,t){t.status(201).json({success:!1})}),bt.post("/start",function(e,t){n.start(),t.status(200).json({success:!0})}),bt.post("/stop",function(e,t){n.stop(),t.status(200).json({success:!0})}),bt.post("/restart",function(e,t){n.restart(),t.status(200).json({success:!0})}),bt.use(function(e,t,n){t.status(404).send("Sorry, can't find that!")}),bt.use(function(e,t,n,i){console.error(e.stack),n.status(500).send("Something broke!")}),this._httpServer=bt.listen(vt,function(){console.log("Express is listening to http://localhost:".concat(vt))}),this._state=mt.STOPPED,this.emit("init");case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"restart",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.stop(),this.start();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(){var t,n,i,o,a,r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isStopped()){e.next=22;break}for(t=!0,n=!1,i=void 0,e.prev=4,o=function(){var e=r.value,t=e.defaultType,n=l.a.normalize(e.path),i=e.extensions.map(function(e){return l.a.join(n,"*."+e)}),o=q.a.watch(i,{ignored:/^\.|Output|Error|Archive|Processed/,depth:0}).on("add",function(e){s.processImageAtPath(e,t)});console.log("Watcher set for ".concat(i.toString())),s._fileWatchers.push(o)},a=this._config.watchers[Symbol.iterator]();!(t=(r=a.next()).done);t=!0)o();e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](4),n=!0,i=e.t0;case 13:e.prev=13,e.prev=14,t||null==a.return||a.return();case 16:if(e.prev=16,!n){e.next=19;break}throw i;case 19:return e.finish(16);case 20:return e.finish(13);case 21:console.log("Server initialized.");case 22:this._state=mt.RUNNING,console.log("Server started.");case 24:case"end":return e.stop()}},e,this,[[4,9,13,21],[14,,16,20]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"pause",value:function(){console.log("Server paused."),this._state=mt.PAUSED}},{key:"stop",value:function(){console.log("Server stopped."),this._fileWatchers.forEach(function(e){e.removeAllListeners(),e.close()}),this._state=mt.STOPPED}},{key:"close",value:function(){console.log("Server closing..."),this.stop(),this._httpServer&&this._httpServer.close(function(){console.log("Server closed.")})}},{key:"pauseCheck",value:function(e){var t=this;if(e||this.isPaused())return this._state=mt.PAUSED,console.log("Server waiting on pause..."),new Promise(function(e){t.once("state",function(n){t._state!=mt.PAUSED&&e()})})}},{key:"processImageWithJson",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=new pt.Reader,n.readProcessingDataFromJson(t),i=n.getImage(),this.pushToPipeline(i);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"processImageAtPath",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(t,n){var i,o,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=l.a.normalize(t),i=l.a.basename(t),o=new pt.Reader(t,{type:n}),console.log("Processing: ".concat(i," Full Path: ").concat(t," Default Type: ").concat(n)),e.prev=4,e.next=7,o.readProcessingData();case 7:return e.next=9,o.readMetadata();case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e["catch"](4),a=o.getImage(),this.moveImageToErrored(a,e.t0.toString()),e.abrupt("return");case 16:r=o.getImage(),this.pushToPipeline(r);case 18:case"end":return e.stop()}},e,this,[[4,11]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"pushToPipeline",value:function(e){this._pipelineQueue.push(e),this._isPipelinesRunningMutex||this.runPipelines()}},{key:"makeImageDirectory",value:function(e){return new Promise(function(t){p.a.mkdir(e,{recursive:!0},function(n){n&&"EEXIST"==!n.code&&console.error(n+"\nImage move failed. Could not create directory "+e),t()})})}},{key:"moveImagePathsToDirectory",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(t,n){var i,o,a,r,s,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(i=t.getAllFilePaths(),o=!0,a=!1,r=void 0,e.prev=4,s=function(){var e=u.value,t=l.a.basename(e),i=l.a.join(n,t);p.a.rename(e,i,function(e){e&&console.error(e+"\nImage could not be moved to "+i)})},c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)s();e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](4),a=!0,r=e.t0;case 13:e.prev=13,e.prev=14,o||null==c.return||c.return();case 16:if(e.prev=16,!a){e.next=19;break}throw r;case 19:return e.finish(16);case 20:return e.finish(13);case 21:case"end":return e.stop()}},e,null,[[4,9,13,21],[14,,16,20]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"moveImageToProcessed",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.getProcessedDirectory(),e.next=3,this.makeImageDirectory(n);case 3:this.moveImagePathsToDirectory(t,n);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"moveImageToErrored",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(t,n){var i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.getErrorDirectory(),o=l.a.join(i,"error.logs"),e.next=4,this.makeImageDirectory(i);case 4:this.moveImagePathsToDirectory(t,i),p.a.writeFile(o,["\n","Time: ".concat((new Date).toLocaleString()),"imagePath: ".concat(t.imagePath),"dataPath: ".concat(t.dataPath),n].join("\n"),{flag:"a"},function(e){e&&console.error(e+"\nImage Errored but logs could not be written to "+o)});case 6:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"runPipelines",value:function(){var e=Object(Ze["a"])(regeneratorRuntime.mark(function e(){var t,n,i,o,a,r,s,c,l,u,p,h,f,d,g;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this._isPipelinesRunningMutex=!0,t=null,e.next=4,this.runJsx("app.displayDialogs = DialogModes.NO;");case 4:if(!(t=this._pipelineQueue.pop())){e.next=100;break}if(n=this.pipelinesMap[t.type.toLowerCase()],n){e.next=9;break}return console.error("Pipeline not found for image: ".concat(t.imagePath," type: ").concat(t.type)),e.abrupt("continue",4);case 9:return e.prev=9,e.next=12,this.runPipelineImageStart(t);case 12:i=!0,o=!1,a=void 0,e.prev=15,r=n[Symbol.iterator]();case 17:if(i=(s=r.next()).done){e.next=67;break}if(c=s.value,!c.disabled){e.next=21;break}return e.abrupt("continue",64);case 21:console.log("Pipeline ".concat(c.name," started for image: ").concat(t.imagePath)),this.emit("pipelinestart",t.type),l=!0,u=!1,p=void 0,e.prev=26,h=c.externalActions[Symbol.iterator]();case 28:if(l=(f=h.next()).done){e.next=43;break}return d=f.value,this.emit("action",d.action),e.next=33,this.runAction(d.action,d.parameters);case 33:return g=e.sent,e.next=36,this.pauseCheck(this._config.pauseAfterEveryAction);case 36:if("EXIT"!==g){e.next=38;break}return e.abrupt("break",43);case 38:if(!this.isStopped()){e.next=40;break}return e.abrupt("break",43);case 40:l=!0,e.next=28;break;case 43:e.next=49;break;case 45:e.prev=45,e.t0=e["catch"](26),u=!0,p=e.t0;case 49:e.prev=49,e.prev=50,l||null==h.return||h.return();case 52:if(e.prev=52,!u){e.next=55;break}throw p;case 55:return e.finish(52);case 56:return e.finish(49);case 57:return console.log("Pipeline ".concat(c.name," completed for image: ").concat(t.imagePath)),e.next=60,this.runJsx("closeAll();");case 60:return e.next=62,this.pauseCheck(this._config.pauseAfterEveryPipeline);case 62:if(!this.isStopped()){e.next=64;break}return e.abrupt("break",67);case 64:i=!0,e.next=17;break;case 67:e.next=73;break;case 69:e.prev=69,e.t1=e["catch"](15),o=!0,a=e.t1;case 73:e.prev=73,e.prev=74,i||null==r.return||r.return();case 76:if(e.prev=76,!o){e.next=79;break}throw a;case 79:return e.finish(76);case 80:return e.finish(73);case 81:this.moveImageToProcessed(t),e.next=89;break;case 84:return e.prev=84,e.t2=e["catch"](9),e.next=88,this.pauseCheck(this._config.pauseOnExceptions);case 88:this.moveImageToErrored(t,e.t2.toString());case 89:return e.prev=89,this.emit("pipelineend",t.type),e.next=93,this.runPipelineImageEnd(t);case 93:return e.next=95,this.pauseCheck(this._config.pauseAfterEveryImage);case 95:if(!this.isStopped()){e.next=97;break}return e.abrupt("break",100);case 97:return e.finish(89);case 98:e.next=4;break;case 100:return e.next=102,this.runJsx("closeAll(); $.gc();");case 102:this.updateMemoryStats(),this._isPipelinesRunningMutex=!1,console.log("Pipeline queue finished.");case 105:case"end":return e.stop()}},e,this,[[9,84,89,98],[15,69,73,81],[26,45,49,57],[50,,52,56],[74,,76,80]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"loadActionPaths",value:function(e,t){return this.loadActionPath(e,"",t)}},{key:"loadActionPath",value:function(e,t,n){var i=this,o="".concat(n,"."),a="".concat(n,"={};"),r=!0;return t&&(o="".concat(t,"."),a="".concat(t,"={};"),r=!1),p.a.readdirSync(e).reduce(function(t,n){var a,s=l.a.join(e,n),c=o+n.split(".")[0];return a=p.a.statSync(s).isDirectory()?r?i.loadActionPath(s,n):i.loadActionPath(s,o+n):'importAction("'.concat(s,'", "').concat(c,'");'),t+a},a)}},{key:"runPipelineImageStart",value:function(e){return this.runJsx("closeAll();\n        __PIPELINE = {};\n        __PIPELINE.restoreUnits = _.saveUnits(); \n        IMAGE=new ImageForProcessing(".concat(JSON.stringify(e),");"))}},{key:"runPipelineImageEnd",value:function(e){return this.runJsx("__PIPELINE.restoreUnits && __PIPELINE.restoreUnits(); IMAGE=null;")}},{key:"runAction",value:function(e,t){var n=JSON.stringify(t);return console.log("Running Action: ".concat(e)),this.runJsx("(function(){\n            try {\n                var result = ".concat(e,"(").concat(n,");\n                return result;\n            } catch(e) {\n                return e.toString();\n            }\n        }())"))}},{key:"runJsx",value:function(e){var t=this;return new Promise(function(n,i){t.cs.evalScript(e,function(t){if(t.toLowerCase().includes("error")||t.toLowerCase().includes("exception")){var o="Jsx: \n\t".concat(e,"\nResult:\n").concat(t);console.error(o),i(o)}else n(t)})})}},{key:"updateMemoryStats",value:function(){this.emit("stats")}},{key:"pipelinesMap",get:function(){if(this._needToReloadPipelines){this._pipelinesMap={};var e=!0,t=!1,n=void 0;try{for(var i,o=this._pipelineConfig.pipelines[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,r=!0,s=!1,c=void 0;try{for(var l,u=a.for[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var p=l.value;fe.getOrDefine(this._pipelinesMap,p.toLowerCase(),[]).push(a)}}catch(h){s=!0,c=h}finally{try{r||null==u.return||u.return()}finally{if(s)throw c}}}}catch(h){t=!0,n=h}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this._needToReloadPipelines=!1}return this._pipelinesMap},set:function(e){this._pipelinesMap=e}},{key:"_state",get:function(){return this._serverState},set:function(e){this._serverState=e,this.emit("state",e)}}]),t}(ct.a),xt={name:"server",components:{checkbox:N,startStop:B,jsx:G,configurator:ke,pipelines:Qe},data:function(){return{tabs:["jsx","the-console","configurator","pipelines"],tabNames:["Jsx","Console","Configuration","Pipelines"],currentTab:"the-console",server:null,configuration:{},pipelineConfiguration:{},areConfigurationsLoaded:!1,isServerPaused:!1,isServerStopped:!0,currentPipeline:"",currentPipelineAction:"",isPipelineActive:!1}},computed:{currentTabComponent:function(){return this.currentTab.toLowerCase()},statusColor:function(){return this.isServerStopped?"#e52521":this.isServerPaused?"#fbd000":"#43b047"}},created:function(){var e=this;this.server=new yt(m.hostPath,m.hostActionPath),this.server.init(),this.server.on("init",this.onInitComplete),this.server.on("state",this.onStateChange),this.server.on("pipelinestart",this.onPipelineStart),this.server.on("action",this.onAction),this.server.on("pipelineend",this.onPipelineEnd),window.addEventListener("beforeunload",function(t){e.destroy()}),console.log("Server component created.")},beforeDestroy:function(){this.destroy()},methods:{destroy:function(){this.server&&(this.server.removeListener("init",this.onInitComplete),this.server.removeListener("state",this.onStateChange),this.server.removeListener("pipelinestart",this.onPipelineStart),this.server.removeListener("action",this.onAction),this.server.removeListener("pipelineend",this.onPipelineEnd),this.server.close()),console.log("Server component destroyed.")},start:function(){this.server.start()},pause:function(){this.server.pause()},stop:function(){this.server&&this.server.stop()},onInitComplete:function(){var e=this.server.getConfiguration();this.configuration=e;var t=this.server.getPipelineConfiguration();this.pipelineConfiguration=t,this.areConfigurationsLoaded=!0},onStateChange:function(){this.isServerPaused=this.server.isPaused(),this.isServerStopped=this.server.isStopped()},onPipelineStart:function(e){this.isPipelineActive=!0,this.currentPipeline=e},onAction:function(e){this.currentPipelineAction=e},onPipelineEnd:function(){this.currentPipeline="",this.currentPipelineAction="",this.isPipelineActive=!1},onConfigurationCheckbox:function(e,t){this.server.setConfiguration(t,e)},onWatchersConfiguration:function(e){this.configuration.watchers=e,this.server.setConfiguration("watchers",e),console.log("Watchers updated.")},onPipelinesConfiguration:function(e){this.server.setPipelineConfiguration("pipelines",e),console.log("Pipelines updated.")},onPipelineRunWithDefaults:function(e){var t=e.defaults;this.server.processImageWithJson(t)}}},Pt=xt,St=(n("42e7"),Object(k["a"])(Pt,w,E,!1,null,"10cb87ac",null)),kt=St.exports,_t={name:"app",components:{menus:C,server:kt},data:function(){return{}},computed:{cs:function(){return m.cs}},beforeCreate:function(){},created:function(){this.importJSX("utils.jsx"),this.importJSX("polyfil.jsx"),this.importJSX("image.jsx"),console.log("App mounted.\n\n            Extension Path: ".concat(m.extensionPath,"\n\n            Host Path: ").concat(m.hostPath,"\n\n            Host Action Path: ").concat(m.hostActionPath))},beforeMount:function(){},mounted:function(){b.init()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{importJSX:function(e){var t=l.a.join(m.hostPath,e);this.cs.evalScript('try{ var file = File("'+t+'").fsName; $.evalFile(file); }catch(e){ alert("File: " + file + " Import Exception: " + e); }',function(e){console.log("Jsx File Imported: "+t+" Result: "+e)})},dispatchEvent:function(e,t){var n=new CSEvent(e,"APPLICATION");n.data=t,this.cs.dispatchEvent(n)},onYes:function(){console.log("modal yes")},onCancel:function(){console.log("modal cancel")}}},Ct=_t,wt=(n("6294"),Object(k["a"])(Ct,r,s,!1,null,null,null)),Et=wt.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"modal-backdrop"},[n("div",{staticClass:"modal",style:{height:e.height||e.options.height,width:e.width||e.options.width}},[n("section",{staticClass:"modal-body"},[e._t("default",[e._v("\n              Are you sure?\n          ")])],2),n("footer",{staticClass:"modal-footer"},[e._t("footer",[n("button",{staticClass:"topcoat-button--large",attrs:{type:"button"},on:{click:e.onYes}},[e._v("\n              Yes\n          ")]),n("button",{staticClass:"topcoat-button--large",attrs:{type:"button"},on:{click:e.onCancel}},[e._v("\n              Cancel\n          ")])])],2)])])])},jt=[],Ot=new i["a"]({name:"a-dialog"}),Dt={height:"auto",width:"80%"},It={name:"a-dialog",data:function(){return{isOpen:!1,options:Dt}},props:{name:{type:String,required:!0},height:{type:String},width:{type:String}},mounted:function(){Ot.$on("open",this.open),Ot.$on("close",this.close)},methods:{open:function(e){console.log("dialog open"),this.name===e.name&&(this.options=Object.assign({},Dt,e),this.isOpen=!0)},close:function(e){console.log("dialog closed"),this.name===e&&(this.isOpen=!1,this.options=Dt)},onYes:function(){this.options.onYes&&this.options.onYes(),this.close(this.name)},onCancel:function(){this.options.onCancel&&this.options.onCancel(),this.close(this.name)}}},Nt=It,Tt=(n("8056"),Object(k["a"])(Nt,At,jt,!1,null,null,null)),Lt=Tt.exports,Rt="a-dialog",$t={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=Rt;e.prototype.$dialog={open:function(e){Ot.$emit("open",e)},close:function(e){Ot.$emit("close",e)}},e.component(t,Lt)}},Mt=$t,Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Console")]),n("div",{ref:"output",staticClass:"console topcoat-textarea",domProps:{innerHTML:e._s(e.output)}}),n("div",{staticClass:"controls"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.output.length>0,expression:"output.length > 0"}],staticClass:"topcoat-button--large--quiet",on:{click:e.onClear}},[e._v("Clear")]),n("button",{staticClass:"topcoat-button--large--quiet",on:{click:e.onSetAutoScroll}},[e._v("Turn Auto Scroll "+e._s(e.doAutoScroll?"Off":"On"))])])])},Wt=[],Jt=n("75fc"),Ft=["log","warn","error"],qt=function(e){function t(){var e;return Object(Ke["a"])(this,t),e=Object(tt["a"])(this,Object(nt["a"])(t).call(this)),e.initialized=!1,e.options={logDirectory:"./",logFileEnabled:!1},e.originalConsoleMethods={},e.logWriteStream=null,e.logBuffer=[],e.maxBufferSize=64,e}return Object(it["a"])(t,e),Object(et["a"])(t,[{key:"init",value:function(e){this.initialized||(this.initialized=!0,this.options=Object.assign(this.options,e||{}),this._createFileStream(),Ft.forEach(function(e){var t=this,n=console[e].bind(console);this.originalConsoleMethods[e]=n,console[e]=function(){var i=Array.prototype.slice.call(arguments);n.apply(console,i),t._write(e,i)}}.bind(this)),console.log("Logger initialized"))}},{key:"_write",value:function(e,t){var n=[(new Date).toLocaleTimeString(),"[".concat(e.toUpperCase(),"]\t")].concat(Object(Jt["a"])(t),["\n"]).join(" "),i=['<div class="'.concat(e,'">').concat((new Date).toLocaleTimeString())].concat(Object(Jt["a"])(t),["</div>"]).join(" ");this.logWriteStream&&this.logWriteStream.write(n),this.logBuffer.push(i),this.emit("logs")}},{key:"_createFileStream",value:function(){if(this.options.logFileEnabled){var e=(new Date).toISOString().slice(0,10),t=l.a.join(this.options.logDirectory,e+".logs");this.logWriteStream=p.a.createWriteStream(t,{flags:"a",encoding:"utf8"})}}},{key:"_closeFileStream",value:function(){this.logWriteStream&&this.logWriteStream.end(),this.logWriteStream=null}},{key:"clear",value:function(){this.logBuffer=[]}},{key:"read",value:function(){return this.logBuffer.reduce(function(e,t){return"".concat(e).concat(t)},"")}},{key:"close",value:function(){var e=this;this.initialized&&(this.initialized=!1,this._closeFileStream(),Ft.forEach(function(t){console[t]=e.originalConsoleMethods[t]}),Ut=null)}}]),t}(st["EventEmitter"]),Ut=new qt,zt=Ut,Vt={name:"the-console",data:function(){return{output:"",doAutoScroll:!0}},created:function(){zt.on("logs",this.onLogs)},activated:function(){this.autoScroll()},deactivated:function(){this.destroy()},mounted:function(){this.autoScroll()},beforeDestroy:function(){this.destroy()},methods:{destroy:function(){zt.removeListener("logs",this.onLogs)},autoScroll:function(){this.doAutoScroll&&this.$refs.output&&(this.$refs.output.scrollTop=this.$refs.output.scrollHeight)},onLogs:function(e){this.output=zt.read(),this.autoScroll()},onClear:function(e){this.output="",zt.clear()},onSetAutoScroll:function(e){this.doAutoScroll=!this.doAutoScroll,this.autoScroll()}}},Xt=Vt,Ht=(n("876a"),Object(k["a"])(Xt,Bt,Wt,!1,null,null,null)),Yt=Ht.exports,Gt={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];zt.init({logDirectory:m.hostPath,logFileEnabled:!0}),window.addEventListener("beforeunload",function(e){zt.close()}),e.component("the-console",Yt)}},Qt=Gt;i["a"].config.productionTip=!1,i["a"].config.devtools=!0,i["a"].use(Mt),i["a"].use(Qt),i["a"].use(a.a),window.vue=new i["a"]({render:function(e){return e(Et)}}).$mount("#app")},"5af6":function(e,t,n){},6294:function(e,t,n){"use strict";var i=n("9759"),o=n.n(i);o.a},"6f3a":function(e,t){e.exports=require("url")},"6f6b":function(e,t,n){},"7fbc":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="7fbc"},8056:function(e,t,n){"use strict";var i=n("5af6"),o=n.n(i);o.a},"83f0":function(e,t,n){"use strict";var i=n("e4d2"),o=n.n(i);o.a},"876a":function(e,t,n){"use strict";var i=n("d013"),o=n.n(i);o.a},"8cad":function(e,t){e.exports=require("util")},"8cc4":function(e,t,n){"use strict";var i=n("c18e"),o=n.n(i);o.a},"8e57":function(e,t){e.exports=require("os")},"94d4":function(e,t,n){},9759:function(e,t,n){},"9ac2":function(e,t){e.exports=require("stream")},"9b0f":function(e,t){e.exports=require("fs")},a32b:function(e,t){e.exports=require("path")},b2bd:function(e,t,n){},b658:function(e,t){e.exports=require("string_decoder")},c18e:function(e,t,n){},cc14:function(e,t,n){},d013:function(e,t,n){},d2d5:function(e,t,n){},e4d2:function(e,t,n){},f319:function(e,t){e.exports=require("querystring")},ff4a:function(e,t){e.exports=require("events")}});
//# sourceMappingURL=app.d8aa4903.js.map